!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=120)}([function(t){t.exports={ABUSE_SUBMITTED:"Спасибо, жалоба отправлена",ACCOUNT_FORM_SETTING_SUCESS_MESSAGE:"Новые настройки успешно сохранились",APP_CLIENT_ABOUT_FIELD_DESCRIPTION:"Опишите ваше приложение",APP_CLIENT_ABOUT_LABEL:"Краткое описание",APP_CLIENT_API_KEY_LABEL:"Api Key",APP_CLIENT_COMPANY_NAME_FIELD_DESCRIPTION:"Укажите название компании",APP_CLIENT_COMPANY_NAME_LABEL:"Название компании разработчика",APP_CLIENT_COMPANY_SITE_FIELD_DESCRIPTION:"Укажите сайт компании",APP_CLIENT_COMPANY_SITE_LABEL:"Сайт компании разработчика",APP_CLIENT_ICON_DESCRIPTION:"Формат: jpg, gif, png. Максимальный размер файла: 1Mb. Разрешение: до 96x96px",APP_CLIENT_ICON_LABEL:"Иконка",APP_CLIENT_ID_LABEL:"Client ID",APP_CLIENT_REDIRECT_FIELD_DESCRIPTION:"Укажите url для редиректа после авторизации",APP_CLIENT_REDIRECT_URL_LABEL:"Redirect URL",APP_CLIENT_RESET_API_KEY_PLACEHOLDER:"Для подтверждения вставьте сюда ваш текущий api key",APP_CLIENT_RESET_API_KEY:"Сбросить Api Key",APP_CLIENT_RESET_BUTTONS_DESCRIPTION:"Сброс Client ID и Client Secret — это исключительный механизм, который не стоит запускать без необходимости",APP_CLIENT_RESET_BUTTONS_PROMPT_DESCRIPTION:"После сброса ваши приложения перестанут работать, пока в них не будут обновленны настройки",APP_CLIENT_RESET_CLIENT_SECRET_PLACEHOLDER:"Для подтверждения вставьте сюда ваш текущий client id",APP_CLIENT_RESET_CLIENT_SECRET:"Сбросить Client ID и Client Secret",APP_CLIENT_RESET_DESCRIPTION:"Сброс Client ID и Client Secret &nbsp; это исключительный механизм, который не стоит запускать без необходимости",APP_CLIENT_RULES_LABEL:"Права",APP_CLIENT_RULES_PLACEHOLDER:"Выберите права",APP_CLIENT_SECRET_KEY_LABEL:"Client Secret",APP_CLIENT_TITLE_FIELD_DESCRIPTION:"Укажите название приложения",APP_CLIENT_TITLE_LABEL:"Название",APP_CLIENT_TYPE_LABEL:"Тип",APP_CLIENT_TYPE_PLACEHOLDER:"Выберите тип",APP_WAS_SUBMITTED:"Ваша заявка отправлена! С вами скоро свяжутся.",ATTENTION_MESSAGE:"Минуточку внимания",BETA_COOKIE_ENABLE_ALERT:"Включите cookie для возможности тестирования",BETA_COOKIE_ENABLE:"Включить обновление",BETA_COOKIE_ENABLED:"Обновление включено",CAPTCHA_IMAGE_MESSAGE:"Вы должны ввести 6 символов с картинки",CLOSE_BUTTON_TEXT:"Закрыть",COMMENT_ABUSE_CONFIRM:"Вы уверены, что хотите пожаловаться на комментарий?",COMMENT_ABUSE_NOTICE:"Cпасибо, жалоба отправлена",COMMENT_FAVORITE_ADDED:"'Комментарий добавлен в закладки",COMMENT_FAVORITE_REMOVED:"Комментарий удален из закладок",COMMENT_HIDDEN:"Комментарий скрыт",COMMENT_NOTICE_TEXT_REQIRED:"Вы забыли ввести текст комментария",COMMENT_REMOVE_CONFIRM:"Точно удаляем?",COMMENT_WAS_EDITED_TITLE:"Kомментарий был изменён",COMMENTS_COUNTDOWN_TIMER_LEFT:"Время истекло",COMMENTS_REMOVED_HIDE:"Скрыть удаленные комментарии",COMMENTS_REMOVED_SHOW:"Показать удаленные комментарии",COMMENTS_SETTINGS_SAVED_NOTICE:"Настройки уведомления о новых комментариях успешно сохранены",COMPANY_DEFAULT_DESCRIPTION:"Компания",COMPANY_DONT_MEMBER:"Вы не работаете в этой компании",COMPANY_MEMBER_I:"Я работаю в этой компании",COMPANY_MEMBER_TOU:"Вы работаете в этой компании",COMPANY_QUIT_ACTION:"Уволиться из компании",CONVERSATION_REMOVE_NOTICE:"Вы уверены, что хотите удалить диалог?",CREATE_APP_PAGE_TITLE:"Создание приложения",DRAFT_REMOVE_ACTION_ALERT:"Вы уверены, что хотите удалить черновик?",FAVORITES_ADD_TITLE_ATTR:"Добавить в закладки",FAVORITES_REMOVE_TITLE_ATTR:"Удалить из закладок",FEED_SETTINGS_BLOCK_TITLE_BLOGS:"Блоги компаний",FEED_SETTINGS_BLOCK_TITLE_FLOWS:"Потоки и компании",FEED_SETTINGS_MENU_ITEM_COMPANIES:"Компании",FEEDBACK_FORM_SUCESS_MESSAGE:"Ваше сообщение отправлено. Сохраняйте терпение, в ближайшее время вы получите ответ.",FIELD_VALIDATION_ERROR_FIELD_TYPE:"Поле типа",FIELD_VALIDATION_ERROR_LENGTH:"Длина сообщения",FIELD_VALIDATION_ERROR_MAX:"Максимум",FIELD_VALIDATION_ERROR_MAXLENGTH:"Доступное количество символов для ввода",FIELD_VALIDATION_ERROR_MIN:"Минимум",FIELD_VALIDATION_ERROR_MINLENGTH:"Минимальное количество символов",FIELD_VALIDATION_ERROR_REQUIRED_KEYWORDS:"Необходимо заполнить поле, указав ключевые слова, характеризующие вашу публикацию",FIELD_VALIDATION_ERROR_REQUIRED:"Необходимо заполнить поле",FIELD_VALIDATION_ERROR_URL:"URL сайта введен неверно",FIELD_VALIDATION_INCORRECT_DELICIOUS:"Неправильно введен del.icio.us",FIELD_VALIDATION_INCORRECT_DIRTY:"Неправильно введен логин на dirty",FIELD_VALIDATION_INCORRECT_FACEBOOK:"Неправильно введен Facebook",FIELD_VALIDATION_INCORRECT_FLICKR:"Неправильно введен Flickr",FIELD_VALIDATION_INCORRECT_FREELANSIM:"Неправильно введен Фрилансим",FIELD_VALIDATION_INCORRECT_GITHUB:"Неправильно введен Github",FIELD_VALIDATION_INCORRECT_GTALK:"Неправильно введен Google Talk",FIELD_VALIDATION_INCORRECT_ICQ:"Неправильно введен номер ICQ",FIELD_VALIDATION_INCORRECT_INSTAGRAM:"Неправильно введен Instagram",FIELD_VALIDATION_INCORRECT_JABBER:"Неправильно введен Jabber",FIELD_VALIDATION_INCORRECT_LEPROSORIUM:"Неправильно введен аккаунт Leprosorium",FIELD_VALIDATION_INCORRECT_LINKEDIN:"Неправильно введен LinkedIn",FIELD_VALIDATION_INCORRECT_LIVEJOURNAL:"Неправильно введен livejournal",FIELD_VALIDATION_INCORRECT_MEDIUM:"Неправильно введен Medium",FIELD_VALIDATION_INCORRECT_MOIKRUG:"Неправильно введен Мой Круг",FIELD_VALIDATION_INCORRECT_MSN:"Неправильно введен MSN(Live!)",FIELD_VALIDATION_INCORRECT_SKYPE:"Неправильно введен Skype",FIELD_VALIDATION_INCORRECT_TELEGRAM:"Неправильно введен Telegram",FIELD_VALIDATION_INCORRECT_TOSTER:"Неправильно введен Тостер",FIELD_VALIDATION_INCORRECT_TWITTER:"Неправильно введен Twitter",FIELD_VALIDATION_INCORRECT_VKONTAKTE:"Неправильно введен Вконтакте",FORM_FILEUPLOAD_REMOVE_BUTTON:"Удалить",FORM_FILEUPLOAD_UPLOAD_BUTTON:"Загрузить",FORM_NOTICE_IMAGE_REMOVED:"Изображение удалено",FORM_NOTICE_UPLOAD_FAILED:"Загрузка не удалась",FORM_NOTICE_UPLOAD_SUCESSFULL:"Файл успешно загружен",FORM_PROCESSING_SUCESSFULL_MESSAGE:"Успешно обновили",FORM_SELECT_CITY_PLACEHOLDER:"Город",FORM_SELECT_REGION_PLACEHOLDER:"Регион",FORM_UPLOAD_BUTTON_TEXT:"Выберите файл для загрузки",FORM_UPLOAD_REMOVE_BUTTON_TEXT:"удалить или изменить",FORM_VALIDATION_ERROR_MESSAGE:"Проверьте правильно ли заполнены поля формы",GENERATED_ROWS_ADD_LINK:"Добавить ссылку",GENERATED_ROWS_REMOVE_LINK:"Удалить ссылку",HUB_ITEM_NEW_HUB_LABEL:"new",HUB_ITEM_NONPROFILED_HUB:"Непрофильный хаб",HUB_ITEM_PROFILED_HUB:"Профильный хаб",HUB_REQUES_NOT_FOUND:"Не удалось найти хаб по запросу",INSTALLED_APPS_EMPTY_MESSAGE:"У вас нет установленных приложений",INSTALLED_APPS_PAGE_TITLE:"Установленные приложения",INSTALLED_APPS_REMOVE_BUTTON:"Удалить",INVITE_WAS_ACTIVED:"Приглашение активировано",INVITE_WAS_REVOKED:"Приглашение отозвано",INVITE_WAS_SENT_AGAIN:"Приглашение повторно отправлено",INVITE_WAS_SENT:"Приглашение отправлено",MODERATION_POST_CONFIRM_MESSAGE:"Вы уверены, что хотите отправить текст на модерацию?",MY_APPS_ADD_APPLICATION:"Добавить приложение",MY_APPS_EDIT_APPLICATION:"Редактировать",MY_APPS_PAGE_TITLE:"Мои приложения",NOTIFICATION_FORM_ENABLE_SUBSCRIPTION_LABEL:"Присылать дайджест на почту",NOTIFICATION_FORM_FIELDSET_MAIL_SEND:"Отправлять мне письма",NOTIFICATION_FORM_FIELDSET_MAIL_SUBSCRIPTION_SETTINGS:"Выберите частоту рассылки дайджеста о самом интересном по вашим хабам",NOTIFICATION_FORM_FIELDSET_TRACKER_SETTINGS:"Настройки трекера",NOTIFICATION_FORM_MAIL_TITLE:"Почта",NOTIFICATION_FORM_MYCOMMENTS_LABEL:"которые я написал",NOTIFICATION_FORM_MYFAVORITES_LABEL:"которые добавил в закладки",NOTIFICATION_FORM_MYREPLY_LABEL:"в которых я оставил комментарии",NOTIFICATION_FORM_NOTICE_OF_COMMENT_REPLY_LABEL:"о новых ответах на мои комментарии",NOTIFICATION_FORM_NOTICE_OF_FOLLOWER_ADD_LABEL:"при добавлении нового подписчика",NOTIFICATION_FORM_NOTICE_OF_MENTION_LABEL:"при упоминании меня в публикациях или комментариях",NOTIFICATION_FORM_NOTICE_OF_MESSAGES_LABEL:"о новых сообщениях в диалогах",NOTIFICATION_FORM_NOTICE_OF_NEWS_LABEL:"об изменениях на сайте",NOTIFICATION_FORM_NOTICE_UIEXPERIENCE_LABEL:"о новых для меня возможностях на сайте",NOTIFICATION_FORM_PAGE_TITLE:"Настройки уведомлений",NOTIFICATION_FORM_SUBSCRIPTION_FREQUENCY_PLACEHOLDER:"Выберите период",NOTIFICATION_FORM_TABLE_TITLE:"Уведомления о новых комментариях в публикациях",NOTIFICATION_FORM_TRACKER_BADGE_LABEL:"Показывать число непрочитанных уведомлений рядом с иконкой трекера",NOTIFICATION_FORM_TRACKER_TITLE:"Трекер",OTHER_FORM_DISABLE_ADS_TITLE:"Отключение рекламы на сайте",OTHER_FORM_OTHERS_TITLE:"Взаимодействие",OTHER_FORM_PAGE_TITLE:"Разные настройки",OTHER_FORM_SHOULD_DISABLE_ADS_LABEL:"Да, это было бы здорово!",OTHER_FORM_SHOULD_SHOW_XPANEL_LABEL:"Отображать панель обновления комментариев",OTHER_FORM_SHOULD_USE_SHORTCUTS_LABEL:"Использовать горячие клавиши",OTHER_FORM_SHOULD_USE_SHORTCUTS_LINK_TEXT:"список",PASSWORD_HAS_BEEN_CHANGED:"Пароль изменен",PASSWORD_RESTORE_LINK_MAIL:"Ссылка для восстановления пароля отправлена на указанный при регистрации адрес электронной почты.",POST_ACTION_FAVORITES_ADDED:"Публикация добавлена в закладки",POST_ACTION_FAVORITES_REMOVED:"Публикация удалена из закладок",POST_PUBLISH_ACTION_ALERT:"Вы уверены, что хотите опубликовать статью?",POST_VIEWS_COUNT_LABEL:"Просмотры публикации",PPA_WITHDRAWAL_FUNDS_DISABLED:"Автоматический вывод средств отключен",PPA_WITHDRAWAL_FUNDS_ENABLED:"Автоматический вывод средств включен",PRIVACY_FORM_FIELDSETS_HABRAMAIL_MESSAGES_LABEL:"Позволить писать сообщения в диалогах",PRIVACY_FORM_FIELDSETS_TRACK_ACTIVITY_LABEL:"Мою активность на сайте видят у себя в трекере",PRIVACY_FORM_FIELDSETS_VIEW_MY_CONTACTS_LABEL:"Показывать мою контактную информацию",PRIVACY_FORM_PAGE_TITLE:"Настройки приватности",PRIVACY_FORM_SELECT_ERROR:"Селект пропал",PROFILE_FORM_ABOUT_DESCRIPTION:"Не более 65000 символов",PROFILE_FORM_ABOUT_LABEL:"Расскажите о себе",PROFILE_FORM_AVATAR_DESCRIPTION:"Формат: jpg, gif, png. Максимальный размер файла: 1Mb. Разрешение: до 96x96px",PROFILE_FORM_AVATAR_LABEL:"Аватар",PROFILE_FORM_BADGES_LABEL:"Значки",PROFILE_FORM_BIRTHDATE_LABEL:"Дата рождения",PROFILE_FORM_CITY_SELECT_PLACEHOLDER:"Город",PROFILE_FORM_COUNTRY_SELECT_PLACEHOLDER:"Страна",PROFILE_FORM_DAY_SELECT_PLACEHOLDER:"Число",PROFILE_FORM_FULLNAME_DESCRIPTION:"Укажите ваши имя и фамилию, чтобы другие пользователи смогли узнать, как вас зовут",PROFILE_FORM_FULLNAME_LABEL:"Настоящее имя",PROFILE_FORM_GENDER_LABEL:"Пол",PROFILE_FORM_INTEREST_DESCRIPTION:"Например: программирование, js, книги",PROFILE_FORM_LOCATION_LABEL:"Местоположение",PROFILE_FORM_MONTH_SELECT_PLACEHOLDER:"Месяц",PROFILE_FORM_PAGE_TITLE:"Настройки профиля",PROFILE_FORM_REGION_SELECT_PLACEHOLDER:"Регион",PROFILE_FORM_SOCIALS_DESCRIPTION:"Укажите имя пользователя или ID и мы сами сделаем ссылку. Чтобы ссылка появилась в информационной панели автора публикации, отметьте её, кликнув на иконку справа.",PROFILE_FORM_SOCIALS_LABEL:"Контактная информация и веб-ресурсы",PROFILE_FORM_SOCIALS_TITLE_ATTR:"Показывать в информационной панели автора",PROFILE_FORM_SPECIALIZATION_DESCRIPTION:"Укажите свою специализацию. Например: Администратор баз данных",PROFILE_FORM_SPECIALIZATION_LABEL:"Специализация",PROFILE_FORM_YEAR_SELECT_PLACEHOLDER:"Год",QUESTION_REMOVE_CONFIRM:"Вы действительно хотите удалить вопрос?",QUIZ_POLL_FAILED_NOTICE:"К сожалению, вы ошиблись в одном из ответов. Попробуйте повторить попытку",QUIZ_POLL_SUCESS_NOTICE:"Поздравляем, теперь вы с нами. Добро пожаловать на",REJECT_REASON_DOESNT_CHOISE:"Вы не выбрали причину отклонения публикации!",REMOVE_ACTION_BUTTON_TEXT:"удалить",REVOKE_INVITE:"Отозвать приглашение",SAVE_CHANGES:"Сохранить изменения",SCROLL_DOWN:"Вниз",SCROLL_TOP:"Наверх",SELECT_DEFAUL_OPTION_HUB:"Хаб",SHOW_MORE_BUTTON_TEXT:"дальше",SOCIAL_PAGE_CONNECT_ACTION:"Подключить",SUBSCRIBE_BUTTON_TEXT:"Подписаться",SUBSCRIBED_BUTTON_TEXT:"Подписан",TOPIC_FORM_PREVIEW_MODE_MESSAGE:"Вы находитесь в режиме предпросмотра",TOPIC_FORM_SINGLETON_NOTICE:"Вместе с хабом &laquo;Я пиарюсь&raquo; нельзя выбирать другие хабы.",UNSUBSCRIBE_BUTTON_TEXT:"Отписаться",UPDATE_APP_PAGE_TITLE:"Информация о приложении",USER_DEFAULT_DESCRIPTION:"Пользователь",USER_SENT_PIS:"Пользователь отправлен на ПИС",USER_SENT_PPG:"Пользователь отправлен на ППГ",VOTE_ACTION_MINUS:"Вы проголосовали отрицательно",VOTE_ACTION_PLUS:"Вы проголосовали положительно",XPANEL_COUNTER_TITLE_ATTR:"Количество новых комментариев. По клику (горячая клавиша - f) переходит к первому непрочитанному комментарию.",XPANEL_NEXT_BUTTON_TITLE_ATTR:"По клику (горячая клавиша - j) переходит к следующему непрочитанному комментарию.",XPANEL_PREV_BUTTON_TITLE_ATTR:"По клику (горячая клавиша - k) переходит к предыдущему непрочитанному комментарию.",XPANEL_REFRESH_BUTTON_TITLE_ATTR:"Обновить комментарии"}},function(t,e){var o=function(t){return void 0!==t.redirect_debug?($.jGrowl('REDIRECT DEBUG: <a href="'+t.redirect_debug+'">'+t.redirect_debug+"</a>",{theme:"message",sticky:!0}),!0):void 0!==t.redirect&&(document.location.href=t.redirect,!0)};function n(t){if(void 0!==t.system_warnings)for(var e in t.system_warnings)$.jGrowl(t.system_warnings[e],{theme:"warning"})}function s(t){if(n(t),void 0!==t.system_errors)for(var e in t.system_errors)$.jGrowl(t.system_errors[e],{theme:"error"})}function a(t){if(void 0!==t.errors){for(var e in t.errors)classname=e.replace(/[\]\[]/g,""),$("."+classname+" .error").html(t.errors[e]).fadeIn();$.scrollTo($(".error:visible").first(),800,{axis:"y",offset:-150})}s(t)}t.exports={ajaxFormBeforSubmit:function(t,e,o){$(".error",e).text("").hide(),$('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',e).attr("disabled",!0)},ajaxFormError:function(t,e){$('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',e).attr("disabled",!1).removeClass("loading")},ajaxFormRedirect:o,ajaxFormSuccess:function(t,e,n){return function(n,s,r,i){if($('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',this.form).attr("disabled",!1).removeClass("loading"),"ok"==n.messages){if(o(n))return;return t(n,s,r,i)}a(n),"function"==typeof e&&e(n,s,r,i)}},showFormErrors:a,showSystemError:s,showSystemWarnings:n}},,,function(t,e,o){var n=o(0),s=window.hljs;function a(t,e){t.toggleClass("hidden",!e)}void 0!==t.exports&&(t.exports={enableCommentButtons:function(t,e){var o=$(".js-form-buttons"),n=$('button[name="preview"]',o),s=$('button[name="send"]',o),a=$('button[name="save"]',o);n.prop("disabled",!e),s.prop("disabled",!e),a.prop("disabled",!e)},findCommentById:function(t){return $("#comment_"+t).parent(".js-comment")},refreshSyntaxHighlight:function(t){var e=document||t;$("pre code",e).each(function(){s.highlightBlock(this)})},setCommentForm:function(t,e,o,n,s){var a=$('input[name="parent_id"]',t),r=$('input[name="comment_id"]',t),i=$("#comment_text",t),c=$("#preview_placeholder",t);a.val(e),r.val(o),i.val(n),c.text(""),s||i.focus()},showCommentButtons:function(t){var e=$(".js-form-buttons");a($('button[type="button"]',e),!1);var o=$('button[name="preview"]',e),n=$('button[name="send"]',e),s=$('button[name="save"]',e),r=$('button[name="delete"]',e);switch(t){case"reply":a(o,!0),a(n,!0);break;case"edit":a(o,!0),a(s,!0),a(r,!0)}},validateFormInput:function(t){var e=t.find('textarea[name="text"]').val();return!!$.trim(e)||($.jGrowl(n.COMMENT_NOTICE_TEXT_REQIRED,{theme:"error"}),!1)},scrollToComment:function(t,e){var o=-10+parseInt($(t).css("padding-top"),10)||-10;$.scrollTo(t,100,{axis:"y",offset:o,onAfter:e})}})},,,,function(t,e){t.exports={instagrammProcess:function(){"undefined"!=typeof instgrm&&instgrm.Embeds.process()}}},function(t,e,o){var n=o(4);void 0!==t.exports&&(t.exports={showCommentParents:function t(e){var o=n.findCommentById(e),s=function(t){return $("> .parent_id",t).data("parent_id")||$("> .comment > .parent_id",t).data("parent_id")}(o);$("#reply_comments_"+s).removeClass("hidden"),o.show(),s&&t(s)}})},function(t,e,o){var n={BTN_LOADING:"loading",FORM_HIDDEN:"hidden",BRANCH_FORM:"comment__reply-form"},s={CURRENT_FORM:"#comments_form",FORM_PLACEHOLDER:".js-form_placeholder"};void 0!==t.exports&&(t.exports={clearInputField:function(t){$('textarea[name="text"]',t).val("")},hideForm:function(t){t.closest(s.FORM_PLACEHOLDER).addClass(n.FORM_HIDDEN)},hidePreview:function(t){$("#preview_placeholder").addClass("hidden")},isRootCommentsForm:function(t){return!t.closest(s.FORM_PLACEHOLDER).hasClass(n.BRANCH_FORM)},showForm:function(){$(s.CURRENT_FORM).closest(s.FORM_PLACEHOLDER).removeClass(n.FORM_HIDDEN)},toggleLoadingState:function(t,e,o){(e||$("button",t)).toggleClass("loading",o)},updateTimestamp:function(t,e){$('input[name="ts"]',t).val(e)}})},function(t,e,o){var n=o(12),s=o(4),a=o(18),r=n.endTimer,i=a.listenCommentFormTitle,c=s.setCommentForm,_=s.showCommentButtons,u=window.mention_autocomplete;void 0!==t.exports&&(t.exports={comment_show_reply_form:function t(e,o){r();var n=$("#comment_"+e),s=$("#comment-form");if(s.length)e?n.children(".js-form_placeholder").html(s):$("#comments_form_placeholder").append(s),n.children(".js-form_placeholder").removeClass("hidden"),c(s,e,0,"",o),_("reply"),s.find(".time_left").text(""),u($("#comment_text")),i(Boolean(e),t);else{var a=$("#expired_placeholder");$("#comment_"+e+" .js-form_placeholder").html(a),a.removeClass("hidden")}return!1}})},function(t,e,o){var n=o(0),s=window.timer_countdown,a={element:null,left:0,timer:null};function r(t){null!==a.timer&&(clearInterval(a.timer),i(t?n.COMMENTS_COUNTDOWN_TIMER_LEFT:""))}function i(t){a.element&&a.element.text(t.toString())}void 0!==t.exports&&(t.exports={endTimer:r,startTimer:function(t,e,o){a.element=t,a.left=e,a.timer=setInterval(function(){a.left>0?(a.left-=1,i(s(a.left))):r(!0)},o)}})},,,,function(t,e){function o(t){t&&function(t){return"_blank"===t.getAttribute("target")}(t)&&function(t,e){var o=t.getAttribute("rel")||"";if(!(o.indexOf(e)>-1)){var n=o+" "+e;t.setAttribute("rel",n)}}(t,"noopener")}t.exports=function(){var t,e;t=o,((e=document.querySelectorAll("a"))?[].slice.apply(e):[]).forEach(function(e){t(e)})}},function(t,e,o){var n=o(26),s=o(4),a=o(10),r=o(8),i=o(48),c=null,_=null,u=null,l=null;function d(t){var e=$(i.WRAPPER()),o=function(t,e){var o=$(i.COUNTER(t));return o.on("click",e),o}(t,S),n=function(t){var e=$(i.REFRESH_BUTTON());return e.on("click",t),e}(T),s=function(t){var e=$(i.PREV_BUTTON());return e.on("click",t),e}(w),a=function(t){var e=$(i.NEXT_BUTTON());return e.on("click",t),e}(I);return e.append([n,s,o,a]),0===t&&(s.hide(),a.hide(),o.hide()),c=o,_=a,u=s,l=n,e,e}function m(){var t=$(".js-comment"),e=$(".js-comment_tree");t.show(),e.removeClass("open")}function f(){return $(".js-comment_new")}function p(t){$(t).removeClass("js-comment_new").find(".comment__head_new-comment").eq(0).removeClass("comment__head_new-comment")}function h(){return $("#comments_form")}function E(t){c&&c.text(t)}function g(t){var e=$([c[0],_[0],u[0]]);t?e.show():e.hide()}function v(t){n.appendNewComments(t);var e=t.length;E(e),n.addCountForAllComments(e),g(Boolean(e)),l.removeClass("loading"),r.instagrammProcess()}function T(t){var e,o,n,s=$(t.currentTarget);s.hasClass("loading")||(m(),f().toArray().forEach(p),e=v,o=h(),n="/json/comment/","beta"===o.attr("data-type")&&(n="/json/beta/new-comments/"),o.length?o.ajaxSubmit({data:{action:"get_new"},url:n,success:function(t){a.updateTimestamp(h(),t.ts),e(t.comments)}}):e([]),s.addClass("loading"))}function b(t,e){return f().toArray().reduce(function(o,n){var s=$(n),a=-100*e;return(s.offset().top+a-t)*e>0?o.concat(s):o},[])}function C(){O($(".js-comment .comment.is_selected"),!1)}function O(t,e){t.toggleClass("is_selected",e)}function I(t){var e,o=b(window.pageYOffset,1)[0];C(),o&&o.length?(O($(".comment",o).first(),!0),s.scrollToComment(o)):(e=f().first(),s.scrollToComment(e))}function w(t){var e,o=b(window.pageYOffset,-1),n=o[o.length-1];C(),n&&n.length?(O($(".comment",n).first(),!0),s.scrollToComment(n)):(e=f().last(),s.scrollToComment(e))}function S(t){m();var e=f(),o=e.length;if(o){var n=e[0];o-=1,s.scrollToComment(n,function(){setTimeout(function(){p(n)},300)})}E(o),o||g(!1)}void 0!==t.exports&&(t.exports={initXPanel:function(){if($("#comments").length){var t=d(f().length);$("body").append(t)}},syncCommentCountFromDOM:function(){var t=f().length;E(t),t&&g(!0)}})},function(t,e,o){void 0!==t.exports&&(t.exports={listenCommentFormTitle:function(t,e){var o=$(".comment-form__title"),n=o.data("has-listener");if(t){if(n)return;o.on("click",function(){e()})}else{if(!n)return;o.off("click")}o.toggleClass("comment-form__title_listened",t),o.data("has-listener",t)}})},,function(t,e){Suggest=function(t){"use strict";this.validateSettings(t)&&(this._settings=t,this._clearButton=null,this._suggestElement=null,this._suggestWrapper=null,this._debounceTimer=!1,this._value="",this.init())},Suggest.prototype.validateSettings=function(t){return!!t.selectors&&!!(t.selectors.clear&&t.selectors.container&&t.selectors.suggest)},Suggest.prototype.init=function(){"use strict";this._suggestElement=$(this._settings.selectors.suggest),this._suggestWrapper=this._suggestElement.parent(),this._clearButton=$(this._settings.selectors.clear);var t=$(this._settings.selectors.container);this._fuzzySearch=function(t,e){var o=e,n=$(".page__footer"),s=t.attr("data-type"),a=o.html();return{reset:function(){o.html(a),n.show()},fetch:function(t,e){var a={query:t,type:s};$.get("/json/suggest/",a,function(t){"ok"===t.messages?(n.hide(),o.html(t.html),e&&e(null,t.html)):(formUtils.showSystemError(t),e&&e(t,null))},"json")}}}(this._suggestElement,t),this._clearButton.on("click",$.proxy(this.onClearClick,this)),this._suggestElement.on("change keyup",$.proxy(this.onElementChange,this))},Suggest.prototype.onClearClick=function(){"use strict";this.clear()},Suggest.prototype.onElementChange=function(t){"use strict";27===(t.charCode||t.keyCode)&&this.clear();var e=this._suggestElement.val();this._value!==e&&(this._value=e,this.enableLoadingState(!0),this.enableFilledState(!1),this._debounce($.proxy(function(){this.fetchResults(e)},this)))},Suggest.prototype.clear=function(){"use strict";this._suggestElement.val(""),this._suggestElement.trigger("change"),this.enableFilledState(!1)},Suggest.prototype._debounce=function(t){"use strict";this._debounceTimer&&clearTimeout(this._debounceTimer),this._debounceTimer=setTimeout($.proxy(t,this),300)},Suggest.prototype.fetchResults=function(){"use strict";this._value?this._fuzzySearch.fetch(this._value,$.proxy(function(){this.enableLoadingState(!1),this.enableFilledState(!0)},this)):(this._fuzzySearch.reset(),this.enableFilledState(!1),this.enableLoadingState(!1))},Suggest.prototype.enableLoadingState=function(t){this._suggestWrapper.toggleClass("loading",t)},Suggest.prototype.enableFilledState=function(t){this._suggestWrapper.toggleClass("filled",t)},t.exports=Suggest},,function(t,e,o){const n=o(0);function s(t){if(void 0!==t.errors){for(var e in t.errors)classname=e.replace(/[\]\[]/g,""),$("."+classname+" .error").html(t.errors[e]).fadeIn();$.scrollTo($(".error:visible").first(),800,{axis:"y",offset:-150})}_(t)}$(document).ready(function(){"use strict";$.jGrowl.defaults.closerTemplate="<div>Закрыть все уведомления</div>",$(".help-tip").length&&$(".help-tip").tipTip({maxWidth:"auto",edgeOffset:10}),$(".sidebar_content-area").length&&$(".sidebar_content-area").addClass("sticky_init")}),$(window).load(function(){"use strict";!!(!window.history||!history.pushState)||"#habracut"!==document.location.hash&&"#comments"!==document.location.hash||history.replaceState({},document.title,document.location.pathname+document.location.search),$(".js-ad_sticky").hcSticky({stickTo:".js-sticky-wrapper",top:20,bottomEnd:0,followScroll:!1}),$(".js-ad_sticky_comments").hcSticky({stickTo:".js-comments-wrapper",top:20,bottomEnd:0,followScroll:!1})}),$(document).ready(function(){function t(t){if(!t){var e=$(".dfp-slot__banner");if(e.length){var o="undefined"==typeof adblockInit;e.toggleClass("dfp-slot__banner_hidden",o)}}}window.ajax_errors_count=0,window.habr_blockers_checker?window.habr_blockers_checker.detectWrapper(function(e){t(e)}):t(!1),$(document).on("click",".subscribeUser",u),$(document).on("click",".unsubscribeUser",l),$(document).on("submit",'form[data-remote="true"]',function(){var t=$(this);return t.ajaxSubmit({form:t,beforeSubmit:a,error:r,success:i(function(t){void 0!==t.message&&$.jGrowl(t.message)})}),!1}),$(document).on("click",'a[data-remote="true"]',function(t){for(var e=$(this),o={},n=0,s=e.get(0).attributes,a=s.length;n<a;n++)if((s.item(n).nodeName+"").indexOf("data-",0)>=0){var r=s.item(n).nodeName;o[r=r.replace(/data-/g,"")]=$(this).attr("data-"+r)}var i=$.map(o,function(t,e){return e+"="+t}).join("&");$.post(e.attr("href"),i,function(t){}),t.preventDefault()}),$(".join_hub_panel .join_hub").on("click",function(){var t=$(this);t.addClass("loading");var e=$(this).attr("data-id"),o=$("#hub_item_"+e);return $.post("/json/hubs/subscribe/",{hub_id:e},function(e){"ok"==e.messages?($(".leave_hub",o).removeClass("hidden"),$(".join_hub",o).addClass("hidden"),o.addClass("membership")):_(e),t.removeClass("loading")},"json"),!1}),$(".join_hub_panel .leave_hub").on("click",function(){var t=$(this).attr("data-id"),e=$(this);e.addClass("loading");var o=$("#hub_item_"+t);return $.post("/json/hubs/unsubscribe/",{hub_id:t},function(t){"ok"==t.messages?($(".leave_hub",o).addClass("hidden"),$(".join_hub",o).removeClass("hidden"),o.removeClass("membership")):_(t),e.removeClass("loading")},"json"),!1}),$(document).ajaxError(function(t,e,o){window.ajax_errors_count,$("input.loading, button.loading").attr("disabled",!1).removeClass("loading"),window.ajax_errors_count++}),$(document).ajaxSuccess(function(t,e,o,n){"json"==o.dataType&&n&&"string"==typeof n.debug&&$("#php-debug").replaceWith(n.debug)}),$("pre code").each(function(t,e){hljs.highlightBlock(e,"    ")}),$(document).on("click",".spoiler_title",function(){var t=$(this).closest(".spoiler");t.hasClass("spoiler_open")&&$("iframe",t).attr("src",function(t,e){return e}),$("> .spoiler_text",t).toggle(),t.toggleClass("spoiler_open")}),$("#broadcast_tabs_comments, #broadcast_tabs_posts").length&&$("#broadcast_tabs_comments, #broadcast_tabs_posts").tabslet({animation:!0}),$(function(){$("a.js-smoothscroll").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})}),$("#global_notify .close").on("click",function(){var t=$(this).attr("data-id"),e=$("#notification_"+t),o=e.next(".inner_notice");return e.remove(),o&&o.removeClass("hidden"),$.post("/json/notifications/close/",{id:t},function(t){"ok"!==t.messages&&_(t)},"json"),!1})});var a=function(t,e,o){$(".error",e).text("").hide(),$('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',e).attr("disabled",!0)},r=function(t,e){$('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',e).attr("disabled",!1).removeClass("loading")},i=function(t,e,o){return function(o,n,a,r){if($('input[type="submit"], input[type="button"], button[type="button"], button[type="submit"]',this.form).attr("disabled",!1).removeClass("loading"),"ok"==o.messages){if(c(o))return;return t(o,n,a,r)}s(o),"function"==typeof e&&e(o,n,a,r)}},c=function(t){return void 0!==t.redirect_debug?($.jGrowl('REDIRECT DEBUG: <a href="'+t.redirect_debug+'">'+t.redirect_debug+"</a>",{theme:"message",sticky:!0}),!0):void 0!==t.redirect&&(document.location.href=t.redirect,!0)};function _(t){if(function(t){if(void 0!==t.system_warnings)for(var e in t.system_warnings)$.jGrowl(t.system_warnings[e],{theme:"warning"})}(t),void 0!==t.system_errors)for(var e in t.system_errors)$.jGrowl(t.system_errors[e],{theme:"error"})}function u(){var t=$(this),e=t.attr("data-login"),o=t.data("id");return t.addClass("loading"),$.post("/json/users/follow/",{login:e},function(e){"ok"==e.messages?($(".js-user_"+o+" .unsubscribeUser").removeClass("hidden"),$(".js-user_"+o+" .subscribeUser").addClass("hidden"),$(".js-user_"+o).addClass("subscribed")):_(e),t.removeClass("loading")},"json"),!1}function l(){var t=$(this),e=t.data("login"),o=t.data("id");return t.addClass("loading"),$.post("/json/users/unfollow/",{login:e},function(e){"ok"==e.messages?($(".js-user_"+o+" .unsubscribeUser").addClass("hidden"),$(".js-user_"+o+" .subscribeUser").removeClass("hidden"),$(".js-user_"+o).removeClass("subscribed")):_(e),t.removeClass("loading")},"json"),!1}function d(t){return t<10?"0"+t:t}var m={ie:navigator.userAgent.match(/MSIE\s([^;]*)/)};$(document).on("mousedown","a[data-utm]",function(){var t=$(this),e=t.attr("href")+t.data("utm");t.attr("href",e)}),$(document).on("click",".informer > .close",function(){$(".informer").hide(),$.cookie("bttf",1,{expires:60,path:"/"})}),void 0!==t.exports&&(t.exports={ajaxFormBeforSubmit:a,ajaxFormError:r,ajaxFormRedirect:c,ajaxFormSuccess:i,createCookie:function(t,e,o){var n=new Date,s="";o?(n.setTime(n.getTime()+24*o*60*60*1e3),s="; expires="+n.toGMTString()):(s="",document.cookie=t+"="+e+s+"; path=/")},empty:function(t){return""===(t=t.replace(/\s+/g,""))},_getDate:function(t){var e=t.getDate(),o=t.getMonth(),n=t.getFullYear();return e+" "+["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][o]+" "+n},_getTime:function(t){var e=t.getHours(),o=t.getMinutes();return o<10&&(o="0"+o),e+":"+o},H:function(t){var e=new Date,o=new Date(t),n=e-o,s=864e5;return m.ie&&(o=Date.parse(t.replace(/( \+)/," UTC$1"))),isNaN(n)||n<0?"":n<7e3?"right now":n<6e4?Math.floor(n/1e3)+" s":n<12e4?"1 m":n<36e5?Math.floor(n/6e4)+" m":n<72e5?"1 h":n<s?Math.floor(n/36e5)+" h":n>s&&n<2*s?"yesterday":n<31536e6?Math.floor(n/s)+" d":"over a year ago"},K:m,mention_autocomplete:function(t){t.textcomplete([{match:/(^|\s)@(\w*)$/,template:function(t){return'<img src="'+t.avatar+'" alt="" /> <span class="name">'+t.value+"</span>"},search:function(t,e){t.length>=3?$.getJSON("/json/mentions/",{term:t}).done(function(t){e(t.results)}).fail(function(){e([])}):e([])},replace:function(t){return"$1@"+t.value+" "}}])},replaceURLWithHTMLLinks:function(t){return t=(t=(t=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/i,'<a href="$1">$1</a>')).replace(/(^|\s)@(\w+)/g,'$1@<a href="https://www.twitter.com/$2">$2</a>')).replace(/(^|\s)#(\w+)/g,'$1<a href="https://twitter.com/search?q=%23$2">#$2</a>')},show_form_errors:s,show_system_error:_,timer_countdown:function(t){days=Math.floor(t/86400),hours=Math.floor(t/3600),mins=Math.floor(t/60),secs=Math.floor(t),dd=days,hh=hours-24*days,mm=mins-60*hours,ss=secs-60*mins;var e=[];return hh>0&&e.push(hh?d(hh):"00"),e.push(mm?d(mm):"00"),e.push(ss?d(ss):"00"),e.join(":")},userKarmaVote:function(t){var e=$(t),o=e.closest(".js-user-vote"),s=o.find(".js-score"),a=e.attr("data-action"),r={ti:o.attr("data-id"),tt:o.attr("data-type"),v:function(t){return"plus"==t?"1":"-1"}(a)};return $.post("/json/vote/",r,function(t){if("ok"==t.messages){var a=r.v,i=(Number(t.score),"positive"==t.sign?"green":"red"),c="Всего "+t.votes_count;switch(o.find('button[type="button"]').attr("disabled",!1),o.find('button[type="button"]').removeClass("voting-wjt__button_plus voting-wjt__button_minus"),a){case"1":e.attr({title:n.VOTE_ACTION_PLUS,disabled:!0}),e.addClass("voting-wjt__button_plus");break;case"-1":e.attr({title:n.VOTE_ACTION_MINUS,disabled:!0}),e.addClass("voting-wjt__button_minus")}s.replaceWith('<div class="stacked-counter__value stacked-counter__value_'+i+'" title="'+c+'">'+t.score+"</div>")}else _(t)},"json"),!1}})},function(t,e,o){const n=o(0);var s=null;$(window).load(function(){$("form").each(function(){var t=$(this);$('input[type="submit"], input[type="button"]',t).on("click",function(){$(this).addClass("loading")}),$(".item.required",t).each(function(t,e){$(e).hasClass("hubs")?$("input#token-input-hubs",e).on("blur",function(){0==$('input[name="hubs"]',e).tokenInput("get").length?$(".error",e).text(n.FIELD_VALIDATION_ERROR_REQUIRED).show():$(".error",e).text("").hide()}):$('input[type="text"], input[type="password"], textarea',e).on("blur",function(t){var o=$(this).val();o=o.replace(/\s+/g,"");var s=$(e).find('input[name="tags_string"]').length,a=""===o,r=n.FIELD_VALIDATION_ERROR_REQUIRED,i=n.FIELD_VALIDATION_ERROR_REQUIRED_KEYWORDS;a?s?$(".error",e).text(i).show():$(".error",e).text(r).show():$(".error",e).text("").hide()})})});var t=$(".select_date");$(".country",t).on("change",function(){var e=$(".region",t),o=$(".city",t);e.attr("disabled",!0),o.attr("disabled",!0),$.get("/json/geo/regions/",{country_id:$(this).val()},function(t){for(k in e.html('<option value="0">'+n.FORM_SELECT_REGION_PLACEHOLDER+"</option>"),o.html('<option value="0">'+n.FORM_SELECT_CITY_PLACEHOLDER+"</option>"),t.regions){var s=t.regions[k];e.append('<option value="'+s.id+'">'+s.name+"</option>")}e.attr("disabled",!1)},"json")}),$(".region",t).on("change",function(){var e=$(".city",t);e.attr("disabled",!0),$.get("/json/geo/cities/",{region_id:$(this).val()},function(t){for(k in e.html('<option value="0">'+n.FORM_SELECT_CITY_PLACEHOLDER+"</option>"),t.cities){var o=t.cities[k];e.append('<option value="'+o.id+'">'+o.name+"</option>")}e.attr("disabled",!1)},"json")});var e=$(".iframe_uploader_preview .image");$(".delete",e).on("click",function(){var t=$(this).data("name");return $('input[name="'+t+'"]').val("-1"),$("."+t+" .iframe_uploader_preview").html('<div class="image">'+n.FORM_NOTICE_IMAGE_REMOVED+"</div>"),!1})}),$(document).ready(function(){$(".radio_list.custom").each(function(t,e){$("label",e).each(function(t,o){$('input[type="radio"]',o).each(function(t,n){$(n).attr("checked")&&($("label",e).removeClass("checked"),$(o).addClass("checked")),$(n).click(function(){$(n).attr("checked")&&($("label",e).removeClass("checked"),$(o).addClass("checked"))})})})}),$("textarea[maxlength], input[maxlength]").each(function(t,e){if(!0!==$(e).data("nocount")){var o=$(this).parents(".item"),s=(e=$(e),n.FIELD_VALIDATION_ERROR_MAXLENGTH),a=$('<div class="count" title="'+s+'">'+e.attr("maxlength")+"</div>");o.append(a),a.text(e.attr("maxlength")-e.val().length),e.bind("keyup blur focus change",function(){a.text(e.attr("maxlength")-e.val().length)})}})}),void 0!==t.exports&&(t.exports={RecaptchaOptions:{lang:"ru",theme:"clean"},show_uploader:function(t){var e=$(t),o=$('input[name="upload_id"]',e),a=e.offset();$("img",e).remove(),$("a",e).remove(),o.val(""),e.css("height","60px");var r=$('<form action="/upload/" class="upload_form" method="post" enctype="multipart/form-data" accept="image/gif, image/jpeg"><input type="file" name="image" /><div class="progress"><div class="bar"></div></div><div class="state">'+n.FORM_UPLOAD_BUTTON_TEXT+"</div></form>");$("body").append(r),r.css({position:"absolute",left:a.left+1,top:a.top+1});var i=$('input[type="file"]',r),c=$(".bar",r),_=$(".state",r);return e.bind("reset_position",function(){a=e.offset(),r.css({position:"absolute",left:a.left+1,top:a.top+1})}),i.change(function(){var t=g_user_login+(new Date).getTime();r.ajaxSubmit({dataType:"xml",url:"/upload/?X-Progress-ID="+t,iframe:!0,forceSync:!0,resetForm:!0,beforeSubmit:function(e){s=setInterval(function(){$.get("/progress/",{"X-Progress-ID":t},function(t){if("uploading"==t.state){var e=t.received/t.size*100;c.css("width",e+"%"),_.html("Загружено "+t.received+" из "+t.size)}else"done"==t.state&&clearInterval(s)},"json")},500)},success:function(t){if(clearInterval(s),"ok"==$(t).find("message").text())c.css({width:"0%"}),_.html(n.FORM_NOTICE_UPLOAD_SUCESSFULL),r.remove(),e.append('<img src="'+$(t).find("url").text()+'" alt=""  /><a href="#upload" class="upload_again" onclick="return show_uploader($(this).parent());">'+n.FORM_UPLOAD_REMOVE_BUTTON_TEXT+"</a>"),e.css("height","auto"),o.val($(t).find("id").text());else{c.css({width:"0%"});var a=$(t).find("error");a?a.each(function(){_.html('<span class="error">'+$(this).text()+"</span>")}):_.html('<span class="error">'+n.FORM_NOTICE_UPLOAD_SUCESSFULL+"</span>")}}})}),!1}})},function(t,e,o){var n=document.getElementById("search-form"),s=document.getElementById("search-form-btn"),a=document.getElementById("search-form-field"),r=document.getElementById("search-form-clear"),i=document.getElementById("navbar-links");function c(){n.className+=" search-form_expanded",i.className+=" hidden",a.focus()}function _(){a.value="",a.blur(),n.classList.remove("search-form_expanded"),i.classList.remove("hidden")}s.onclick=function(t){t.preventDefault(),c()},r.onclick=function(t){t.preventDefault(),_()},a.onfocus=function(t){document.onkeydown=function(t){27==(t=t||window.event).which&&_()}},void 0!==t.exports&&(t.exports={openSearch:c})},function(t,e,o){const n=o(0),s=o(1);Follow=function(t){"use strict";this.validateSettings(t)&&(this._settings=t,this.init())},Follow.prototype.validateSettings=function(t){return!!t.selectors&&(!!t.selectors.follow&&(!!t.suggestUrl&&"function"==typeof t.suggestRequest))},Follow.prototype.init=function(){"use strict";$(document).on("click",this._settings.selectors.follow,$.proxy(this.onFollowButtonClick,this))},Follow.prototype.onFollowButtonClick=function(t){"use strict";var e=t.currentTarget;this.followUserByButton(e)},Follow.prototype.followUserByButton=function(t){"use strict";var e=this._settings.suggestUrl,o=this._settings.suggestRequest(t);!function(t,e,o){var a=t.attr("data-state"),r=t.find(".js-btn-value"),i=t.closest(".js-subscribe_item").find(".js-subscribed"),c=e+a+"/";$.post(c,o,function(e){"ok"===e.messages?"unfollow"===a?(t.attr("data-state","follow").removeClass("btn_subscribed").addClass("btn_subscribe"),r.text(n.SUBSCRIBE_BUTTON_TEXT),i.removeClass("is-subscribed")):"follow"===a&&(t.attr("data-state","unfollow").removeClass("btn_subscribe").addClass("btn_subscribed"),r.text(n.SUBSCRIBED_BUTTON_TEXT),i.addClass("is-subscribed")):s.showSystemError(e)},"json")}($(t),e,o)},t.exports=Follow},function(t,e,o){var n=o(9);void 0!==t.exports&&(t.exports={addCountForAllComments:function(t){var e=$("#comments_count"),o=parseInt(e.text(),10);e.text(o+t)},appendNewComments:function(t){t.forEach(function(t){!function(t){(function(t){return $("#comment_"+t.id).length>0})(t)||(function(t){return function(t){return"0"===t.parent_id||"0"===t.parrent_id}(t)?$("#comments-list"):(t.parent_id||t.parrent_id,$("#reply_comments_"+t.parent_id))}(t).append(t.html),n.showCommentParents(t.id))}(t)})}})},,,,,,,,,,,,,,function(t,e,o){var n=o(25),s=o(20);$(document).ready(function(){"use strict";new s({selectors:{clear:"#people_suggest_clear",container:"#peoples",suggest:"#people_suggest"}}),new n({selectors:{follow:".js-user-follow-btn"},suggestUrl:"/json/users/",suggestRequest:function(t){return{login:$(t).attr("data-login")}}})})},function(t,e,o){const n=o(0),s=o(1);function a(t){void 0!==t.subscribe_mark&&"1"===t.subscribe_mark&&$("#subscribe_comments").length&&$("#subscribe_comments").attr("checked",!0),void 0!==t.tracker_mark&&"1"===t.tracker_mark&&$("#tracker_comments").length&&$("#tracker_comments").attr("checked",!0)}$(document).ready(function(){$(".post_full .content > :header[id]").each(function(){$(this).append('<a class="title_anchor" href="#'+$(this).attr("id")+'"></a>')}),$(".post_teaser .content > :header[id]").each(function(){var t=$(this).closest(".post_teaser").find(".post__title_link").attr("href");$(this).append('<a class="title_anchor" href="'+t+"#"+$(this).attr("id")+'"></a>')}),$('#edit_tags_form [name="tags_string"]').autocomplete({serviceUrl:"/json/suggest/",minChars:2,delimiter:/(,|;)\s*/,maxHeight:400,width:300,zIndex:9999,deferRequestBy:500,params:{type:"tags"}}),$("#lenta_notifications .close").click(function(){return $("#lenta_notifications").fadeOut(),$.post("/json/notifications/hint_get_more_blogs/",function(t){"ok"!==t.messages&&s.showSystemError(t)},"json"),!1})}),void 0!==t.exports&&(t.exports={change_post_subscibptions_checkboxes:a,closeForm:function(t,e){$(t).closest("form").toggleClass("hidden",e)},posts_add_to_favorite:function(t){var e=$(t),o=e.find(".js-favs_count"),r=o.html()?parseInt(o.html()):0,i={tt:e.attr("data-type"),ti:e.attr("data-id"),action:e.attr("data-action")};return $.post("/json/favorites/",i,function(t){"ok"==t.messages?(e.toggleClass("bookmark-btn_is-added","add"==i.action),"add"==i.action?($.jGrowl(n.POST_ACTION_FAVORITES_ADDED,{}),e.attr({"data-action":"remove",title:n.FAVORITES_REMOVE_TITLE_ATTR}),o.html(r+=1),$(".js-fav-edit-link").removeClass("hidden"),a(t)):($.jGrowl(n.POST_ACTION_FAVORITES_REMOVED,{}),e.attr({"data-action":"add",title:n.FAVORITES_ADD_TITLE_ATTR}),o.html(r-=1),$(".js-fav-edit-link").addClass("hidden")),e.blur()):s.showSystemError(t)},"json"),!1},posts_poll:function(t){var e=$(t),o=e.closest("form")||null,n=e.closest(".js-post-polling"),a={ti:e.attr("data-id"),action:e.attr("data-action")};o.ajaxSubmit({data:a,form:o,beforeSubmit:s.ajaxFormBeforSubmit,success:s.ajaxFormSuccess(function(t,e,o,s){n.replaceWith(t.question_html)})})},posts_vote:function(t){var e=$(t),o=e.closest(".js-post-vote"),a=o.find(".js-score"),r=e.attr("data-action"),i={ti:o.attr("data-id"),tt:o.attr("data-type"),v:function(t){return"plus"==t?parseInt(1):parseInt(-1)}(r)};$.post("/json/vote/",i,function(t){if("ok"==t.messages){var r=i.v,c=(parseInt(t.score),"Всего "+t.votes_count+": &uarr;"+t.votes_count_plus+" и &darr;"+t.votes_count_minus);switch(o.find('button[type="button"]').attr("disabled","disabled"),r){case 1:e.attr("title",n.VOTE_ACTION_PLUS),e.addClass("voting-wjt__button_plus");break;case-1:e.attr("title",n.VOTE_ACTION_MINUS),e.addClass("voting-wjt__button_minus")}a.replaceWith('<span class="voting-wjt__counter voting-wjt__counter_'+t.sign+' js-score" title="'+c+'">'+t.score+"</span>")}else s.showSystemError(t)},"json"),function(t,e){"function"==typeof ga&&ga("send","event",t,e)}("post",r)},showAbuseForm:function(){var t=$("#abuse_form"),e=t.find('input[name="text"]'),o=t.find('button[type="submit"]');e.on("change keyup",function(){var t=""==$(this).val();o.attr("disabled",t)}),t.ajaxForm({form:t,beforeSubmit:function(n,a,r){s.ajaxFormBeforSubmit(n,a,r);var i=e.val();if(i=i.replace(/\s+/g,""),o.attr("disabled",!0),t.toggleClass("hidden",!0),""===i)return!1},success:s.ajaxFormSuccess(function(e,s,a,r){$.jGrowl(n.ABUSE_SUBMITTED,{}),t.resetForm(),o.attr("disabled",!0),t.toggleClass("hidden",!0)},!1,!0)}),t.toggleClass("hidden")},show_edit_tags:function(t){var e=$(t),o=$("#edit_tags_form"),n=[],a={type:e.attr("data-type"),id:e.attr("data-id")},r=$("#post_"+a.id).find(".fav");r.each(function(){n[n.length]=$(this).text()}),o.find('button[type="submit"]').attr("disabled",!1),o.find('input[name="tt"]').val(a.type),o.find('input[name="ti"]').val(a.id),o.find('input[name="tags_string"]').val(n.join(", ")).focus(),o.toggleClass("hidden"),o.size()&&o.ajaxForm({form:o,beforeSubmit:s.ajaxFormBeforSubmit,success:s.ajaxFormSuccess(function(t,e,n,s){var a=o.find('input[name="ti"]').val();for(k in o.find('input[name="tt"]').val(),r.parent().remove(),t.user_tags)$("#post_"+a+" .js-post-tags").append('<li class="inline-list__item inline-list__item_tag"><a href="/tag/'+t.user_tags[k]+'/" rel="tag" class="inline-list__item-link post__tag fav js-fav-tag">'+t.user_tags[k]+"</a></li>");o.toggleClass("hidden",!0)})})},show_recommend_form:function(){var t=$("#admin_causes");!function(t){t.removeClass("hidden")}(t),$(".form__input_checkbox",t).on("change",function(){var t,e,o,n;o=$(".form__input_checkbox",t).toArray().some(function(t){return $(t).prop("checked")}),n=$('button[type="submit"]',t),e=!o,n.prop("disabled",e)})}})},function(t,e){$(function(){$.getJSON("https://special.habrahabr.ru/api/toplink/",function(t){var e="";if(t.links.length)$.each(t.links,function(t,o){var n=o.color?'style="color: '+o.color+'"':"";e+='<a href="'+o.link+'" target="_blank" '+n+">"+o.title+"</a>"});else{if(!t.link||!t.title)return;var o=t.color?'style="color: '+t.color+'"':"";e='<a href="'+t.link+'" target="_blank" '+o+">"+t.title+"</a>"}$("#TMpanel .slink").html(e)}),window.TMPanelShowLink=function(t){var e=t.color?'style="color: '+t.color+'"':"",o='<a href="'+t.link+'" target="_blank" '+e+">"+t.title+"</a>";"left"===t.position?$("#TMpanel .slink").prepend(o):$("#TMpanel .slink").append(o)}})},function(t,e,o){o(44),o(45),o(46),o(47),o(49),o(50),o(51);var n=o(52),s=o(4),a=o(9),r=o(8),i=o(53),c=o(54),_=o(55),u=o(56),l=o(57),d=o(11),m=o(12),f=o(18),p=o(58),h=o(59),E=o(17);window.comment_delete=c.comment_delete,window.comment_preview=i.comment_preview,window.comments_add_to_favorite=n.comments_add_to_favorite,window.comment_send=_.comment_send,window.comment_show_edit_form=u.comment_show_edit_form,window.comment_show_form=l.comment_show_form,window.comment_show_reply_form=d.comment_show_reply_form,window.comment_update=p.comment_update,window.comment_vote=h.comment_vote,window.instagrammProcess=r.instagrammProcess,window.showCommentParents=a.showCommentParents;m.endTimer,f.listenCommentFormTitle,s.setCommentForm,s.showCommentButtons,m.startTimer;var g=window.mention_autocomplete;window.empty;function v(t){for(var e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]==t)return unescape(n[1])}return!1}document.unreadcomments=[],$(function(){g($("#comment_text"))}),$(document).ready(function(){if($(".comment_item .bad").on("touchstart",function(){$(this).toggleClass("focused")}),$(document).on("click",".comment_item .html_format a",function(){$(this).attr("target","_blank")}),$(document).on("keyup change blur focus paste","#comment_text",function(t){var e=$(t.currentTarget),o=e.closest("#comments_form"),n=Boolean(e.val().trim());s.enableCommentButtons(o,n);var a=o.find("button:disabled");n&&a.prop("disabled",!1)}),v("reply_to")){var t=v("reply_to");comment_show_reply_form(t)}g_show_xpanel&&E.initXPanel()})},function(t,e,o){var n=o(0);$(document).ready(function(){$(".abuse_link").on("click",function(){var t=$(this),e=window.confirm(n.COMMENT_ABUSE_CONFIRM),o={tt:$(this).data("tt"),ti:$(this).data("ti")};return e&&$.post($(this).data("url"),o,function(e){"ok"==e.messages?t.replaceWith('<span class="comment__footer-notice comment__footer-notice_sucess">'+n.COMMENT_ABUSE_NOTICE+"</span>"):show_form_errors(e)}),!1})})},function(t,e){$(document).ready(function(){$("#comment_markdown").on("change",function(t){var e=$(t.currentTarget);!function(t){$.post("/json/comment/markdown/",{action:"markdown",state:t})}(Boolean(e.prop("checked")))})})},function(t,e){$(document).ready(function(){var t={SUBMIT:".js-h-message__submit",MESSAGE:".js-h-message"},e={BTN_LOADING:"loading",FORM_HIDDEN:"hidden"};function o(o,n){var s=$(t.SUBMIT,o);s.toggleClass(e.BTN_LOADING,n),s.prop("disabled",n)}function n(t,o){if(o)t.addClass(e.FORM_HIDDEN);else{t.fadeOut(300,function(){t.addClass(e.FORM_HIDDEN)})}}$(document).on("click",t.SUBMIT,function(s){s.preventDefault();var a=$(s.currentTarget);if(!a.hasClass(e.BTN_LOADING)){var r=a.closest(t.MESSAGE),i=function(t){if(!t.length)return null;var e=t.serializeArray();return e.length?e.reduce(function(t,e){return t[e.name]=e.value,t},{}):null}(r);if(!i)return n(r,!0),void $("#comments_form_placeholder").show();!function(t,e){o(t,!0);var s=e["user-id"],a=e.url;$.post(a,{user_id:s},function(){o(t,!1),n(t)})}(r,i)}})})},function(t,e,o){var n=o(9),s=o(8),a=o(17),r=window.change_post_subscibptions_checkboxes,i=window.hljs,c=s.instagrammProcess,_=n.showCommentParents,u=window.show_system_error;$(document).on("click",".comment-moderate",function(t){var e=$(t.currentTarget),o=e.data("id"),n=e.data("action");return e.addClass("loading"),$.post("/json/comment/",{id:o,action:"moderate",status:n},function(t){if("approve"==n)if("ok"==t.messages){var s;for(s in t.comments)0==$("#comment_"+t.comments[s].id).size()&&(0==t.comments[s].parent_id?$("#comment_"+o).replaceWith(t.comments[s].html):$("#reply_comments_"+t.comments[s].parent_id).find("#comment_"+o).replaceWith(t.comments[s].html),_(t.comments[s].id),document.unreadcomments.push({id:parseInt(t.comments[s].id)}));a.syncCommentCountFromDOM(),$("#comments_count").text(parseInt($("#comments_count").text())+t.comments.length),$("pre code").each(function(){i.highlightBlock(this)}),r(t),c()}else u(t);else"ok"==t.messages?$("#comment_"+o).remove():u(t);e.removeClass("loading")},"json"),!1})},function(t,e,o){var n=o(0);void 0!==t.exports&&(t.exports={COUNTER:function(t){return'<span class="new" title="'+n.XPANEL_COUNTER_TITLE_ATTR+'">'+t+"</span>"},NEXT_BUTTON:function(){return'<span class="next_new" title="'+n.XPANEL_NEXT_BUTTON_TITLE_ATTR+'">&darr;</span>'},PREV_BUTTON:function(){return'<span class="prev_new" title="'+n.XPANEL_PREV_BUTTON_TITLE_ATTR+'">&uarr;</span>'},REFRESH_BUTTON:function(){return'<span class="refresh" title="'+n.XPANEL_REFRESH_BUTTON_TITLE_ATTR+'"></span>'},WRAPPER:function(){return'<div id="xpanel"></div>'}})},function(t,e){$(document).ready(function(){$("*[rel=user-popover]").each(function(){var t=$(this);t.webuiPopover({animation:"fade",arrow:!1,padding:!1,placement:"bottom-right",trigger:"hover",offsetTop:5,delay:{show:1e3},type:"async",url:"/json/users/info/",async:{method:"POST",data:{login:t.data("user-login")}},content:function(t){return t.html}})})})},function(module,exports,__webpack_require__){var translations=__webpack_require__(0);$(document).ready(function(){var SELECTORS={BUTTON:"#hide_all_deleted_comments",COMMENTS:".js-comment_deleted",SUBSCRIBE_BY_EMAIL:"#subscribe_comments",SUBSCRIBE_BY_TRACKER:"#tracker_comments"};function toggleHideDeletedBtnState(t,e){var o=e?translations.COMMENTS_REMOVED_SHOW:translations.COMMENTS_REMOVED_HIDE;t.text(o),t.data("deleted-comments-hidden",e)}function toggleDeletedCommentsState(t){var e=$(SELECTORS.COMMENTS);t?e.hide():e.show()}function onHideDeletedClick(t){t.preventDefault();var e=$(t.currentTarget),o=!e.data("deleted-comments-hidden");toggleHideDeletedBtnState(e,o),toggleDeletedCommentsState(o)}function onSubscribeByEmailClick(){var subscribe_checkbox=$(this);eval("var data = "+subscribe_checkbox.attr("rel")+";"),data.action=subscribe_checkbox.attr("checked")?"subscribe":"unsubscribe",$.post("/json/subscription/",data,function(t){"ok"==t.messages?$.jGrowl(translations.COMMENTS_SETTINGS_SAVED_NOTICE,{theme:"notice"}):show_system_error(t)},"json")}function onSubscribeByTrackerClick(){var checkbox=$(this);eval("var data = "+checkbox.attr("rel")+";");var url=checkbox.prop("checked")?"/json/tracker/add/":"/json/tracker/remove/";$.post(url,data,function(t){"ok"==t.messages?$.jGrowl(translations.COMMENTS_SETTINGS_SAVED_NOTICE,{theme:"notice"}):show_system_error(t)},"json")}$(SELECTORS.BUTTON).on("click",onHideDeletedClick),g_is_guest&&($(SELECTORS.SUBSCRIBE_BY_EMAIL).on("change",onSubscribeByEmailClick),$(SELECTORS.SUBSCRIBE_BY_TRACKER).on("change",onSubscribeByTrackerClick))})},function(t,e){$(document).ready(function(){$(document).on("click",".js-comment_parent",function(){var t=$(this).data("parent_id"),e=$(this).data("id");return $(this).hasClass("back_to_children")?$("#comment_"+e).find(".js-comment_chidren").addClass("hidden"):($("#comment_"+t).find(".js-comment_children").removeClass("hidden"),$("#comment_"+t).find(".js-comment_children > .js-comment_parent").attr({href:"#comment_"+e,"data-id":t,"data-parent_id":e})),$.scrollTo($("#comment_"+t),800,{axis:"y",offset:-10}),!1}),$(document).on("click",".js-comment_tree",function(t){var e=$(t.currentTarget),o=$(".js-comment"),n=!e.hasClass("open");o.toggle(!n),e.toggleClass("open",n);var s,a,r=e.data("id"),i=$("#comment_"+r);n&&showCommentParents(r),s=i,a=$(window).height(),$.scrollTo(s,1,{axis:"y",offset:{top:a/2*-1}})})})},function(t,e,o){var n=o(0),s=window.show_system_error,a={BOOKMARKED:"icon_comment-bookmark_add"};function r(t,e){var o=function(t){return"add"===t?n.COMMENT_FAVORITE_ADDED:n.COMMENT_FAVORITE_REMOVED}(e),s=function(t){return"add"===t?"remove":"add"}(e);$.jGrowl(o,{}),t.data("action",s)}void 0!==t.exports&&(t.exports={comments_add_to_favorite:function(t){var e=$(t),o=e.data("action"),n={tt:e.data("type"),ti:e.data("id"),action:o};return e.toggleClass(a.BOOKMARKED,"add"===n.action),$.post("/json/favorites/",n,function(t){(function(t){return"ok"===t.messages||(s(t),!1)})(t)&&r(e,o)},"json"),!1}})},function(t,e,o){var n=o(4),s=window.ajaxFormSuccess;function a(t,e){var o;return'<div class="comment__head">'+(o=window.g_user_login,'<span class="user_info user-info_inline">  <img src='+window.g_user_avatar+' class="user-info__image-pic user-info__image-pic_small" />  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">'+o+"   </span></span>")+('<time class="comment__date-time">'+e+"</time>")+"</div>"+t}function r(t,e){t.toggleClass("loading",e)}void 0!==t.exports&&(t.exports={comment_preview:function(t,e){var o=$(e);$(t).ajaxSubmit({data:{action:"preview"},beforeSubmit:function(t,e){return r(o,!0),!!n.validateFormInput(e)||(r(o,!1),!1)},success:s(function(t){var e=a(t.text,t.time_published);$("#preview_placeholder").removeClass("hidden").html(e),r(o,!1),n.refreshSyntaxHighlight()})})}})},function(t,e,o){var n=o(0),s=o(10),a=o(11),r=window.ajaxFormError,i=window.ajaxFormSuccess,c={COMMENT:"#comment_{id}",FOOTER:".comment__footer",HEADER:".comment__head",VOTE:".js-comment-vote"},_={COMMENT_DELETED:"js-comment_deleted",HEADER_DELETED:"comment__head_deleted"},u={HIDDEN:'<span class="comment__status">'+n.COMMENT_HIDDEN+"</span>"};function l(t){a.comment_show_reply_form(null,!0),function(t){t.addClass(_.COMMENT_DELETED);var e=$(c.HEADER,t);e.addClass(_.HEADER_DELETED),e.append(u.HIDDEN),t.find(c.VOTE).hide(),t.find(c.FOOTER).hide()}($(c.COMMENT.replace("{id}",t.comment_id)))}void 0!==t.exports&&(t.exports={comment_delete:function(t,e){confirm(n.COMMENT_REMOVE_CONFIRM)?(s.toggleLoadingState($(t),$(e),!0),function(t){t.ajaxSubmit({data:{action:"delete"},form:t,dataType:"json",error:r,success:i(l,null,!0)})}($(t))):s.hideForm(t)}})},function(t,e,o){var n=o(26),s=o(10),a=o(4),r=o(9),i=o(8),c=o(17),_=window.ajaxFormError,u=window.ajaxFormSuccess,l=window.change_post_subscibptions_checkboxes,d=(window.empty,window.hljs,i.instagrammProcess);r.showCommentParents;void 0!==t.exports&&(t.exports={comment_send:function(t,e,o){o.preventDefault();var r=$(t),i=$(e);r.ajaxSubmit({data:{action:"add"},dataType:"json",beforeSubmit:function(){return s.toggleLoadingState(r,i,!0),!!a.validateFormInput(r)||(s.toggleLoadingState(r,i,!1),!1)},error:function(t,e){s.toggleLoadingState(r,i,!0),_(t,e)},success:u(function(t,e,o,a){s.toggleLoadingState(r,i,!1);var _=t.comments_moderation;_.html&&(_=[_]);var u=[].concat.apply(t.comments||[],_||[]);n.appendNewComments(u),t.comments_moderation&&($("#moderated_placeholder").removeClass("hidden"),s.showForm(),$("#comments_form_placeholder").hide()),t.ts&&s.updateTimestamp(r,t.ts),c.syncCommentCountFromDOM(),s.clearInputField(r),s.hidePreview(r),function(t,e){return!t.comments_moderation&&!s.isRootCommentsForm(e)}(t,r)&&s.hideForm(r),n.addCountForAllComments(u.length),d(),l(t)},function(){s.toggleLoadingState(r,i,!1)})})}})},function(t,e,o){var n=o(10),s=o(4),a=o(11),r=o(12),i=o(18),c=r.endTimer,_=i.listenCommentFormTitle,u=s.setCommentForm,l=s.showCommentButtons,d=r.startTimer,m=a.comment_show_reply_form,f=window.mention_autocomplete,p=window.show_system_error;void 0!==t.exports&&(t.exports={comment_show_edit_form:function(t){c();var e=$("#comment_"+t),o=$("#comment-form"),s=o.find(".time_left");return c(),n.hidePreview(o),$.post("/json/comment/",{comment_id:t,action:"source"},function(n){if("ok"==n.messages){var a=n.text;o.find(".js-form-buttons"),e.find(".js-form_placeholder").append(o),e.children(".js-form_placeholder").removeClass("hidden"),u(o,0,t,a),f($("#comment_text")),l("edit"),d(s,n.time_left,1e3),_(Boolean(t),m)}else p(n)}),!1}})},function(t,e,o){var n=o(4),s=o(12).endTimer,a=n.setCommentForm,r=n.showCommentButtons,i=window.mention_autocomplete;void 0!==t.exports&&(t.exports={comment_show_form:function(t){s();var e=$("#comment_"+t),o=$("#comment-form");return e.children(".js-form_placeholder").removeClass("hidden"),e.children("#comment-form_placeholder").html(o),a(o,t,0,""),o.find(".time_left").text(""),i($("#comment_text")),r("reply"),!1}})},function(t,e,o){var n=o(0),s=o(8),a=o(11).comment_show_reply_form,r=window.ajaxFormError,i=window.ajaxFormSuccess,c=window.empty,_=window.hljs,u=s.instagrammProcess;void 0!==t.exports&&(t.exports={comment_update:function(t,e){$(t).ajaxSubmit({data:{action:"edit"},form:$(t),dataType:"json",beforeSubmit:function(){$(e).addClass("loading");var o=$('textarea[name="text"]',t).val();if(c(o))return $.jGrowl(n.COMMENT_NOTICE_TEXT_REQIRED,{theme:"error"}),$(e).removeClass("loading"),!1},error:function(t,o){$(e).removeClass("loading"),r(t,o)},success:i(function(t,o,s,r){$(e).removeClass("loading"),a(null,!0);var i=$("#comment_"+t.comment_id);$("> .comment__message",i).html(t.message),$("> .comment__date-time",i).html(t.time_changed+' <span class="comment-item__time_changed icon_comment-edit" title="'+n.COMMENT_WAS_EDITED_TITLE+'"><i class="comment-item__sign_changed">('+n.COMMENT_WAS_EDITED_TITLE+")</i></span>"),$("pre code").each(function(){_.highlightBlock(this)}),u()},null,!0)})}})},function(t,e,o){var n=o(0);void 0!==t.exports&&(t.exports={comment_vote:function(t,e){var o=$(t),s=o.closest(".js-comment-vote"),a=s.find(".js-score"),r=e||"/json/vote/",i=o.attr("data-action"),c={ti:s.attr("data-id"),tt:s.attr("data-type"),pti:s.attr("data-post-target"),v:function(t){return"plus"==t?parseInt(1):parseInt(-1)}(i)};$.post(r,c,function(t){if("ok"==t.messages){var e=c.v,r=(parseInt(t.score,10),"Всего "+t.votes_count+": &uarr;"+t.votes_count_plus+" и &darr;"+t.votes_count_minus);switch(s.find('button[type="button"]').attr("disabled","disabled"),e){case 1:o.attr("title",n.VOTE_ACTION_PLUS),o.children().addClass("icon-svg_arrow-green");break;case-1:o.attr("title",n.VOTE_ACTION_MINUS),o.children().addClass("icon-svg_arrow-red")}a.replaceWith('<span class="voting-wjt__counter voting-wjt__counter_'+t.sign+' js-score" title="'+r+'">'+t.score+"</span>")}else show_system_error(t)},"json"),function(t,e){"function"==typeof ga&&ga("send","event",t,e)}("comment",i)}})},function(t,e,o){var n=o(0);t.exports=function(){lastScrollPosition=0;var t=$("#scroll_to_top"),e=0,o=!1;t.on("click",function(e){e.preventDefault(),t.hasClass("back-down")?(t.attr("title",n.SCROLL_TOP).removeClass("back-down"),$.scrollTo(lastScrollPosition,700,{axis:"y"}),lastScrollPosition=0):(lastScrollPosition=window.pageYOffset,t.attr("title",n.SCROLL_BOTTOM).addClass("back-down"),$.scrollTo(0,700,{axis:"y"}))}),$(window).on("scroll",function(){window.pageYOffset>100?o||(t.removeClass("hidden"),o=!0):o&&(t.addClass("hidden"),o=!1),e<window.pageYOffset&&t.hasClass("back-down")&&t.removeClass("back-down"),e=window.pageYOffset})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){o(121),o(297),o(295),t.exports=o(298)},function(t,e,o){var n=o(22);window.ajaxFormBeforSubmit=n.ajaxFormBeforSubmit,window.ajaxFormError=n.ajaxFormError,window.ajaxFormRedirect=n.ajaxFormRedirect,window.ajaxFormSuccess=n.ajaxFormSuccess,window.createCookie=n.createCookie,window.empty=n.empty,window._getDate=n._getDate,window._getTime=n._getTime,window.H=n.H,window.K=n.K,window.mention_autocomplete=n.mention_autocomplete,window.replaceURLWithHTMLLinks=n.replaceURLWithHTMLLinks,window.show_form_errors=n.show_form_errors,window.show_system_error=n.show_system_error,window.timer_countdown=n.timer_countdown,window.userKarmaVote=n.userKarmaVote;var s=o(23),a=o(24);window.RecaptchaOptions=s.RecaptchaOptions,window.show_uploader=s.show_uploader,window.openSearch=a.openSearch,o(122),o(123),o(124),o(125),o(127),o(128),o(42),o(40),o(129),o(130),o(131),o(135),o(139),o(143),o(151),o(154),o(43);var r=o(16),i=o(159),c=o(60),_=o(160),u=o(161);$(window).load(function(){r()}),$(document).ready(function(){var t;_(".h-info"),i($(".sidebar_right_stickable")),t=$(".corporate_blog").length?".corporate_blog":".daily_best_posts",$(t).length&&u(t),c()})},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){var t=$(".js-confidantial_check"),e=$('#feedback_form button[name="submit"]');t&&t.on("click",function(){e.attr("disabled",!0),$(this).is(":checked")&&e.attr("disabled",!1)}),e.on("click",function(){$("#feedback_form").ajaxForm({form:$("#feedback_form"),url:"/json/feedback/save/",beforeSubmit:function(t,e,o){return $("#preview_placeholder").html("").addClass("hidden"),s.ajaxFormBeforSubmit(t,e,o)},error:s.ajaxFormError,success:s.ajaxFormSuccess(function(t,e,o,s){$("#feedback_form").html('<div class="global_notify"><div class="inner_notice">'+n.FEEDBACK_FORM_SUCESS_MESSAGE+"</div></div>")},function(t,e,o,n){$("#imgCaptcha").size()&&($("#imgCaptcha").attr("src","/core/captcha?"+Math.random()),$("#captcha").val(""))})})})})},function(t,e){$(window).on("scroll",function(){var t=$('[data-name="sidebarToolkitSections"]'),e=$(t).find(".default-block"),o=$(".layout__row_footer-links");if(t.length&&e.length){var n=$(e).outerHeight()+30,s=($(e).offset().top,$(t).offset().top,o.offset().top),a="is-relative",r="is-fixed",i="is-absolute";$(window).scrollTop()+n>=s?c(i):e.hasClass("sticked")?c(r):c(a)}function c(t){var o=[a,r,i],n=o.filter(function(e){return e===t}).join(""),s=o.filter(function(e){return e!==t}).join(" ");e.addClass(n),e.removeClass(s)}})},function(t,e,o){const n=o(25),s=o(20);$(document).ready(function(){"use strict";new s({selectors:{clear:"#hubs_suggest_clear",container:"#hubs",suggest:"#hubs_suggest"}}),new n({selectors:{follow:".js-hub-follow-btn"},suggestUrl:"/json/hubs/",suggestRequest:function(t){return{hub_id:$(t).attr("data-id")}}})})},function(t,e,o){var n=o(126);function s(t){t.preventDefault();var e,o=t.target,s=n.getQueryObject;s.hl=o.elements.hl.value,s.fl=(e=o.elements.fl,[].slice.call(e).filter(t=>t.checked).map(t=>t.value).join(",")),window.location.assign("?"+decodeURIComponent($.param(s)))}function a(t){$("body").toggleClass("overlayed",t),$("#js-lang_settings").toggleClass("hidden",!t)}$(document).ready(function(){$("#lang-settings-form").on("submit",s),$(".js-show_lang_settings").on("click",function(t){t.preventDefault(),$(".dropdown_user").removeClass("dropdown_active"),a(!0)}),$(".js-hide_lang_settings").on("click",function(t){t.preventDefault(),a(!1)}),$("#js-lang_settings").on("click",function(t){$(t.target).closest(".popup").length||a(!1)})})},function(t,e){var o,n=(o=window.location.search)?o.substr(1).split("&").reduce(function(t,e){var o=e.split("="),n=window.decodeURIComponent(o[0]),s=window.decodeURIComponent(o[1]);return t[n]=s,t},{}):{};t.exports={getQueryObject:n}},function(t,e){$(document).ready(function(){$("#filter"),$("#list")})},function(t,e){$(document).ready(function(){var t=1==window.g_is_enableShortcuts;if(t){if($("input,textarea,select").on("focus",function(){t=!1}),$("input,textarea,select").on("blur",function(){t=!0}),$(".shortcuts_items").size()){var e=$(".shortcuts_items .shortcuts_item");$(window).scroll(function(){var t=window.pageYOffset+0,o=window.pageYOffset+50;e.each(function(e,n){var s=$(n),a=s.offset().top+20;t<a&&a<o&&(s.hasClass("focus")||($(".shortcuts_items .shortcuts_item.focus").removeClass("focus"),s.addClass("focus")))})})}$.each({"/":"shortcuts.focus_to_search",h:"shortcuts.to_first_post",l:"shortcuts.to_last_post",j:"shortcuts.to_next_post",k:"shortcuts.to_prev_post",o:"shortcuts.open_post"},o),$.each({c:"shortcuts.to_comment_form",t:"shortcuts.add_to_tracker",m:"shortcuts.subscribe_comments",r:"shortcuts.refresh_comments",f:"shortcuts.to_next_unreaded_comment",j:"shortcuts.to_next_new_comment",k:"shortcuts.to_prev_new_comment",esc:"shortcuts.escape"},o),$("input, textarea").bind("keydown","alt+return ctrl+return",function(){var t=$(this).closest("form");return $(document).trigger("shortcuts.submit_form",t),!1}),$(document).bind("shortcuts.subscribe_comments",function(t,e){$("#subscribe_comments").trigger("click")}),$(document).bind("shortcuts.add_to_tracker",function(t,e){$("#tracker_comments").trigger("click")}),$(document).bind("shortcuts.focus_to_search",function(t,e){openSearch()}),$(document).bind("shortcuts.submit_form",function(t,e){$('input[type="submit"],input.submit,input.edit,button[type="submit"],button[name="send"],button[name="save"]',e).each(function(t,e){$(e).hasClass("hidden")||e.click()})}),$(document).bind("shortcuts.to_next_page",function(){var t=$("#next_page").attr("href");void 0!==t&&(document.location.href=t)}),$(document).bind("shortcuts.to_prev_page",function(){var t=$("#previous_page").attr("href");void 0!==t&&(document.location.href=t)}),$(document).bind("shortcuts.to_first_post",function(){var t=$(".shortcuts_items");t.size()&&($(".shortcuts_item",t).first().hasClass("focus")?$(document).trigger("shortcuts.to_prev_page"):($(".shortcuts_item.focus",t).removeClass("focus"),$(".shortcuts_item",t).first().addClass("focus")),$.scrollTo($(".shortcuts_item.focus",t),200,{axis:"y"}))}),$(document).bind("shortcuts.to_last_post",function(){var t=$(".shortcuts_items");t.size()&&($(".shortcuts_item",t).last().hasClass("focus")?$(document).trigger("shortcuts.to_next_page"):($(".shortcuts_item.focus",t).removeClass("focus"),$(".shortcuts_item",t).last().addClass("focus")),$.scrollTo($(".shortcuts_item.focus",t),200,{axis:"y"}))}),$(document).bind("shortcuts.to_next_post",function(){var t=$(".shortcuts_items");if(t.size()){if(0==$(".shortcuts_item.focus",t).size())$(".shortcuts_item",t).first().addClass("focus");else{var e=$(".shortcuts_item.focus",t),o=e.next();0==o.size()?$(document).trigger("shortcuts.to_next_page"):(e.removeClass("focus"),o.addClass("focus"))}$.scrollTo($(".shortcuts_item.focus",t),200,{axis:"y"})}}),$(document).bind("shortcuts.to_prev_post",function(){var t=$(".shortcuts_items");if(t.size()){if(0==$(".shortcuts_item.focus",t).size())$(".shortcuts_item",t).last().addClass("focus");else{var e=$(".shortcuts_item.focus",t),o=e.prev();0==o.size()?$(document).trigger("shortcuts.to_prev_page"):(e.removeClass("focus"),o.addClass("focus"))}$.scrollTo($(".shortcuts_item.focus",t),200,{axis:"y"})}}),$(document).bind("shortcuts.open_post",function(){if($(".shortcuts_items").size()){var t=$(".shortcuts_items .shortcuts_item.focus .post__title_link").attr("href");t&&(document.location.href=t)}}),$(document).bind("shortcuts.to_comment_form",function(){$("#comments_form_placeholder").size()&&($.scrollTo($("#comments_form_placeholder"),200,{axis:"y"}),$("#comment_text").focus())}),$(document).bind("shortcuts.refresh_comments",function(){g_show_xpanel&&$("#xpanel .refresh").trigger("click")}),$(document).bind("shortcuts.to_next_unreaded_comment",function(){g_show_xpanel&&$("#xpanel .new").trigger("click")}),$(document).bind("shortcuts.to_next_new_comment",function(){g_show_xpanel&&$("#xpanel .next_new").trigger("click")}),$(document).bind("shortcuts.to_prev_new_comment",function(){g_show_xpanel&&$("#xpanel .prev_new").trigger("click")})}function o(e,o){$(document).bind("keydown",e,function(){if(t)return $(document).trigger(o),!1})}})},function(t,e){$(document).ready(function(){$('#search_form input[type="text"]').autocomplete({serviceUrl:"/json/suggest/",minChars:2,delimiter:/(,|;)\s*/,maxHeight:400,width:300,zIndex:9999,deferRequestBy:500,params:{type:"search"}})})},function(t,e){$(document).ready(function(){var t,e,o,n,s,a=(t="ab_test_vacancies_block_group",(e=$.cookie(t))||(o=0,n=1,s=Math.floor(Math.random()*(n-o+1))+o,e=["A","B"][s],$.cookie(t,e,{expires:14,path:"/"}),e));$(".promo-block_vacancies a").each(function(){var t=$(this),e=t.data("utm"),o="utm_campaign=tm_promo_"+a,n=e.replace("utm_campaign=tm_promo",o);t.data("utm",n),t.attr("data-utm",n)})})},function(t,e,o){o(132),o(133),o(134)},function(t,e,o){o(0);const n=o(1);$(document).ready(function(){$("#add_director").click(function(){var t=$("#directors_list .row").size(),e=$('<div class="row directors_'+t+'" id="row_'+t+'">                <div class="td name"><input type="text" name="directors['+t+'][name]" value=""/></div>                <div class="td position"><input type="text" name="directors['+t+'][position]" value=""/></div>                <div class="td delete"><a href="#remove" data-id="'+t+'" class="dotted">'+translation.REMOVE_ACTION_BUTTON_TEXT+'</a></div>                <div class="clear"></div>                <div class="error"></div>              </div>');return $("#directors_list").append(e),!1}),$("#directors_list .row .delete a").on("click",function(){var t=$(this).data("id");return $("#row_"+t).html("").hide(),!1}),$("#add_stage").click(function(){var t=$("#stages_list .row").size()+1,e=$("#stage_select_date_template").html();e=e.replace(/NUM/g,t);var o=$('<div class="row" id="row_'+t+'">                <div class="td text"><input type="text" name="stages['+t+'][description]" value=""/></div>                <div class="td date">'+e+'</div>                <div class="td delete"><a href="#remove" data-id="'+t+'" class="dotted">удалить</a></div>              </div>');return $("#stages_list").append(o),!1}),$("#stages_list .row .delete a").on("click",function(){var t=$(this).data("id");return $("#row_"+t).html("").hide(),!1}),$("#company_add_form").ajaxForm({form:$("#company_add_form"),beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(ajaxFormRedirect)}),$("#startup_add_form").ajaxForm({beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t){"ok"==t.messages&&($(".company_add").hide(),$(".result").show(),$("html, body").animate({scrollTop:$(".result").offset().top+"px"}))})})})},function(t,e,o){o(0);const n=o(1);$(document).ready(function(){$("#i_work_in_company").click(function(){var t=$(this),e=$(this).data("id"),o=$("#js-companyWorkersCount"),s=$("#js-companyWorkersList");t.attr("checked")?$.post("/json/corporation/worker_add/",{company_id:e},function(e){"ok"==e.messages?(t.attr("title",traslations.COMPANY_QUIT_ACTION),$.jGrowl(traslations.COMPANY_MEMBER_YOU),o.text(parseInt(o.text())+1),s.append('<li><a href="http://'+g_user_login+"."+g_base_url+'/" class="you">'+g_user_login+"</a></li>")):n.showSystemError(e)},"json"):$.post("/json/corporation/worker_del/",{company_id:e},function(e){"ok"==e.messages?(t.attr("title",traslations.COMPANY_MEMBER_I),$.jGrowl(traslations.COMPANY_DONT_MEMBER),o.text(parseInt(o.text())-1),$(".you",s).remove()):n.showSystemError(e)},"json")})})},function(t,e,o){const n=o(25),s=o(20);$(document).ready(function(){"use strict";new s({selectors:{clear:"#companies_suggest_clear",container:"#companies",suggest:"#companies_suggest"}}),new n({selectors:{follow:".js-company-follow-btn"},suggestUrl:"/json/corporation/",suggestRequest:function(t){return{company_id:$(t).attr("data-id")}}})})},function(t,e,o){o(136),o(138)},function(t,e,o){const n=o(1),s=o(137);$(document).ready(function(){var t=$("#conversation_form"),e=t.find("button[name=send]");$(e).on("click",function(){$(this).addClass("loading")}),t.ajaxForm({form:t,beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,o,n,s){var a=$(t.message_html);$("#messages").prepend(a),$("#conversation_form textarea").val(""),$("pre code",a).each(function(t,e){hljs.highlightBlock(e,"    ")}),$("#preview_placeholder").html("").addClass("hidden"),$(".item.captcha").addClass("hidden"),$("#conversation_form textarea").focus(),e.removeClass("loading")},function(t,e,o,n){"undefined"!=typeof Recaptcha&&Recaptcha.reload(),$("#imgCaptcha").size()&&($("#imgCaptcha").attr("src","/core/captcha?"+Math.random()),$("#captcha").val(""))})}),$("textarea",t).on("keyup change blur focus",function(e){$(this).val().length>0?$(".js-form-buttons > button",t).attr("disabled",!1):$(".js-form-buttons > button",t).attr("disabled",!0)}),s($("#conversation_form textarea")),$(".js-btn_preview").on("click",function(){t.ajaxSubmit({form:t,url:"/json/conversations/preview/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,e,o,n){var s=$(t.message_html);$("#preview_placeholder").html(s).removeClass("hidden"),$("pre code",s).each(function(t,e){hljs.highlightBlock(e,"    ")})})})}),$("#load_more").click(function(){var t=$(this);return t.addClass("loading"),$.post(t.data("url"),{conversation_id:t.data("id"),respondent:t.data("respondent"),offset:t.data("offset")},function(e){if("ok"==e.messages){for(k in e.items)if(0==$("#message_"+e.items[k].id).size()){var o=$(e.items[k].html);o.hide(),$("#messages ").append(o),o.fadeIn(500)}0!=e.has_more?t.data("offset",e.offset):t.remove()}else n.showSystemError(e);t.removeClass("loading")}),!1})})},function(t,e){t.exports=function(t){t.textcomplete([{match:/(^|\s)@(\w*)$/,template:function(t){return'<img src="'+t.avatar+'" alt="" /> <span class="name">'+t.value+"</span>"},search:function(t,e){t.length>=3?$.getJSON("/json/mentions/",{term:t}).done(function(t){e(t.results)}).fail(function(){e([])}):e([])},replace:function(t){return"$1@"+t.value+" "}}])}},function(t,e,o){var n=o(0);const s=o(1),a=o(20);$(document).ready(function(){"use strict";new a({selectors:{clear:"#people_suggest_clear",container:"#conversations",suggest:"#conversations_suggest"}}),$(".js-delete-conversation").on("click",function(t){t.preventDefault();var e=$(this).data("id");confirm(n.CONVERSATION_REMOVE_NOTICE)&&$.post("/json/conversations/delete/",{conversation_id:e},function(t){"ok"==t.messages?$("#conversation_"+e).parent().remove():s.showSystemError(t)})})})},function(t,e,o){o(140),o(141),o(142);var n=o(41);window.change_post_subscibptions_checkboxes=n.change_post_subscibptions_checkboxes,window.closeForm=n.closeForm,window.posts_add_to_favorite=n.posts_add_to_favorite,window.posts_poll=n.posts_poll,window.posts_vote=n.posts_vote,window.showAbuseForm=n.showAbuseForm,window.show_edit_tags=n.show_edit_tags,window.show_recommend_form=n.show_recommend_form},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){var t=$.jStorage.get("last_navigator_category"),e=$.jStorage.get("last_navigator_hubs"),o=$.jStorage.get("last_navigator_hub");if(t&&"null"!=t){if($('#fast_navagator select[name="category"]').val(t),e){var a="";for(k in e)a+='<option value="'+e[k].alias+'">'+e[k].name+"</option>";$('#fast_navagator select[name="hub"]').html(a).attr("disabled",!1),$('#fast_navagator input[type="submit"]').attr("disabled",!1)}o&&($('#fast_navagator select[name="hub"]').val(o),$("#fast_navagator .buttons input").attr("disabled",!1).removeClass("loading"))}else $('#fast_navagator select[name="hub"]').html("<option>"+n.SELECT_DEFAUL_OPTION_HUB+"</option>").attr("disabled",!0),$('#fast_navagator input[type="submit"]').attr("disabled",!0);$('#fast_navagator select[name="category"]').change(function(){var t=$(this).val();$.jStorage.set("last_navigator_category",t),"null"==t?($('#fast_navagator select[name="hub"]').html("<option>"+n.SELECT_DEFAUL_OPTION_HUB+"</option>").attr("disabled",!0),$('#fast_navagator input[type="submit"]').attr("disabled",!0)):$.post("/json/hubs/category/"+t+"/",function(t){if("ok"==t.messages){var e="";for(k in t.hubs)e+='<option value="'+t.hubs[k].alias+'">'+t.hubs[k].name+"</option>";$.jStorage.set("last_navigator_hubs",t.hubs),$('#fast_navagator select[name="hub"]').html(e).attr("disabled",!1),$('#fast_navagator input[type="submit"]').attr("disabled",!1)}else s.showSystemError(t)},"json")}),$("#fast_navagator").submit(function(){var t=$('#fast_navagator select[name="hub"]').val();return $.jStorage.set("last_navigator_hub",t),document.location.href="/hub/"+t+"/",!1}),$("#addCompanyFan").click(function(){var t=$(this).attr("data-id"),e=$(this);return e.addClass("loading"),$.post("/json/corporation/fan_add/",{company_id:t},function(t){"ok"==t.messages?($("#removeCompanyFan").removeClass("hidden"),$("#addCompanyFan").addClass("hidden"),$("#fans_count").text(t.fans_count_str)):s.showSystemError(t),e.removeClass("loading")},"json"),!1}),$("#removeCompanyFan").click(function(){var t=$(this).attr("data-id"),e=$(this);return e.addClass("loading"),$.post("/json/corporation/fan_del/",{company_id:t},function(t){"ok"==t.messages?($("#removeCompanyFan").addClass("hidden"),$("#addCompanyFan").removeClass("hidden"),$("#fans_count").text(t.fans_count_str)):s.showSystemError(t),e.removeClass("loading")},"json"),!1})})},function(t,e,o){const n=o(1);$(function(){if(!$("#habralenta-settings").length)return!1;var t=$('<img src="/images/form/ajax_loader.gif" alt="" class="ajax_loader" align="top"/>'),e=$("#hubs_category"),o=($("#habralenta-settings"),$("#form_habralenta_settings"),$("#save_success"),""),s=window.hubs_category_json;$.each(s.categories,function(t,e){var n=2==e.subscription?"full":"",a=1==e.subscription?"part":"",r=2==e.subscription?"Отписаться от всех хабов в этом потоке":"Подписаться на все хабы в этом потоке",i="corporative_blogs"==e.alias?"/companies/":"/hubs/"+e.alias+"/",c=s.lenta_show_all||0==e.count?"disabled":"",_=e.have_new?' <span class="new">'+e.have_new+"</span>":"",u=e.count>0?'<a href="'+i+'" title="Нажмите, чтобы посмотреть хабы из этого потока">'+e.name+"</a>":'<span class="category_title">'+e.name+"</span>";o+='<div class="category '+n+" "+a+" "+c+'" data-alias="'+e.alias+'">                       <div class="checkbox" title="'+r+'"></div>                       <input type="hidden" name="categories['+e.alias+']" class="input" value="'+e.subscription+'" />                       <div class="title">                         '+u+'                         <span class="count" title="Количество хабов в категории">('+e.count+")</span>                         "+_+'                       </div>                       <div class="hubs"></div>                     </div>'}),e.html(o),$(".lenta-tip").tipTip({maxWidth:"300",edgeOffset:10}),void 0!==s.subscription&&s.subscription&&($('input[name="enable_subscription"]').prop("checked",!0),$('select[name="subscription_frequency"]').val(s.subscription.frequency)),$(".category .title a",e).on("click",function(){var e=$(this).parent().parent(".category"),o=$(".hubs",e),n=$(".title .count",e),s=e.attr("data-alias");return!e.hasClass("disabled")&&(o.html()?o.toggleClass("show"):(n.after(t),$.get("/json/hubs/category/"+s+"/",function(n){var a="";$.each(n.hubs,function(t,o){e.hasClass("full")?o.subscription=1:e.hasClass("part")||(o.subscription=0);var n=o.subscription?"subscription":"",r=o.subscription?"Отписаться от хаба":"Подписаться на хаб",i="corporative_blogs"==s?"/company/"+o.alias+"/blog/":"/hub/"+o.alias+"/",c=o.is_new?' <span class="new">новый</span>':"";a+='<div class="hub '+n+'">                         <div class="checkbox" title="'+r+'"></div>                         <input type="hidden" name="blogs['+o.id+']" class="input" value="'+o.subscription+'" />                         <a href="'+i+'" target="_blank">'+o.name+"</a>                         "+c+"                       </div>"}),t.remove(),o.html(a),o.toggleClass("show"),$(".hub a",o).click(function(){if($(this).parent(".hub").parent().parent(".category").hasClass("disabled"))return!1}),$(".hub .checkbox",o).on("click",function(t){t.preventDefault();var e=$(this),n=e.parent(".hub"),s=n.parent().parent(".category"),a=$(".input",n),r=$("> .input",s);if(s.hasClass("disabled"))return!1;n.hasClass("subscription")?(n.removeClass("subscription"),a.val(0),e.attr("title","Подписаться на хаб")):(n.addClass("subscription"),a.val(1),e.attr("title","Отписаться от хаба"));var i=$(".subscription",o),c=$(".hub",o);0==i.size()?(s.removeClass("part").removeClass("full"),r.val(0),s.find("> .checkbox").attr("title","Подписаться на все хабы в этой категории")):i.size()==c.size()?(s.removeClass("part").addClass("full"),r.val(2),s.find("> .checkbox").attr("title","Отписаться от всех хабов в этой категории")):(s.removeClass("full").addClass("part"),r.val(1),s.find("> .checkbox").attr("title","Подписаться на все хабы в этой категории"))})},"json")),!1)}),$(".category > .checkbox",e).on("click",function(){var t=$(this),e=t.parent(".category"),o=(e.attr("data-alias"),$(".hubs",e)),n=$(".input",e);return!e.hasClass("disabled")&&(e.hasClass("full")?(e.removeClass("full").removeClass("part"),n.val(0),$(".hub",o).removeClass("subscription"),$(".hub .input",o).val(0),t.attr("title","Подписаться на все хабы в этой категории")):e.hasClass("part")?(e.removeClass("part").addClass("full"),n.val(2),$(".hub",o).addClass("subscription"),$(".hub .input",o).val(1),t.attr("title","Отписаться от всех хабов в этой категории")):(e.addClass("full"),n.val(2),$(".hub",o).addClass("subscription"),$(".hub .input",o).val(1),t.attr("title","Отписаться от всех хабов в этой категории")),!1)}),$("#form_habralenta_settings").ajaxForm({form:$("#form_habralenta_settings"),url:"/json/hubs/save_subscriptions/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,e,o,n){$.jGrowl("Настройки ленты успешно сохранились")})})})},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){$('button[name="send_invite"]').on("click",function(){var t=$(this),e=$(this).data("id");return t.addClass("loading"),$.post("/json/users/give_invite_bypost/",{post_id:e},function(o){"ok"==o.messages?$("#sandbox-panel_"+e+" .send_invite_wrapper").html('<span style="color:green;">'+n.INVITE_WAS_SENT+"</span>"):s.showSystemError(o),t.removeClass("loading")},"json"),!1}),$('button[name="send_invite_plus"]').on("click",function(){var t=$(this),e=$(this).data("id");return t.addClass("loading"),$.post("/json/users/give_invite_bypost_plus/",{post_id:e},function(o){"ok"==o.messages?$("#sandbox-panel_"+e+" .send_invite_wrapper").html('<span style="color:green;">'+n.INVITE_WAS_SENT+"</span>"):s.showSystemError(o),t.removeClass("loading")},"json"),!1}),$('button[name="reject"]').on("click",function(){var t=$(this).data("id");$("#reject_form_post_"+t).removeClass("hidden"),$("#transfer_form_post_"+t).addClass("hidden");var e=$("#reject_form_post_"+t+' select[name="reject_reason"]');return e.attr("enabled","true"),$.each(reasonsList,function(){e.append($("<option></option>").text(this.optionValue).val(this.optionValue).attr({"data-text":this.textareaValue,"data-action":this.action}))}),!1}),$(document).on("change",'.reject_form select[name="reject_reason"]',function(t){var e=$(this).closest(".reject_form").data("id"),o=this.options[t.target.selectedIndex],s=$(o).data("text"),a=$(o).data("action");$("#reject_form_post_"+e).find("#reject_text_textarea").val(s),$("#reject_form_post_"+e).find('input[name="reject_action"]').val(a),""===a&&$("#reject_form_post_"+e+" .reject_reason").find(".error").text(n.REJECT_REASON_DOESNT_CHOISE)}),$('button[name="transfer"]').on("click",function(){var t=$(this).data("id");return $("#reject_form_post_"+t).addClass("hidden"),$("#transfer_form_post_"+t).removeClass("hidden"),!1}),$('button[name="publish"]').on("click",function(t){var e=$(t.target),o=e.data("id");e.addClass("loading");var n={post_id:o};return $.post("/json/sandbox/publish/",n,function(t){"ok"===t.messages?$("#sandbox-panel_"+o).html('<div class="send_invite_wrapper"><span style="color:green;">Опубликовано в песочнице</span></div>'):s.showSystemError(t),e.removeClass("loading")},"json"),!1})})},function(t,e,o){o(144),o(145),o(146),o(147),o(148),o(149),o(150)},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){$("#password_settings_form").ajaxForm({dataType:"json",url:"/json/settings/password/ ",beforeSubmit:function(){$("#password_settings_form .error").text("").hide(),$('#password_settings_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$.jGrowl(n.ACCOUNT_FORM_SETTING_SUCESS_MESSAGE):(s.showFormErrors(t),$.scrollTo($("#password_settings_form"),800,{axis:"y"})),$('#password_settings_form input[type="submit"]').removeClass("loading")}}),$("#email_settings_form").ajaxForm({dataType:"json",url:"/json/settings/email/",beforeSubmit:function(){$("#email_settings_form .error").text("").hide(),$('#email_settings_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$.jGrowl(n.ACCOUNT_FORM_SETTING_SUCESS_MESSAGE):(s.showFormErrors(t),$.scrollTo($("#email_settings_form"),800,{axis:"y"})),$('#email_settings_form input[type="submit"]').removeClass("loading")}})})},function(t,e,o){const n=o(1);$(document).ready(function(){if(!$("#notifications_settings_form").length)return!1;$("#notifications_settings_form").ajaxForm({dataType:"json",url:"/json/settings/notifications/ ",beforeSubmit:function(){$("#notifications_settings_form .error").text("").hide(),$('#notifications_settings_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$.jGrowl("Новые настройки успешно сохранились"):(n.show_form_errors(t),$.scrollTo($("#notifications_settings_form"),800,{axis:"y"})),$('#notifications_settings_form input[type="submit"]').removeClass("loading")}}),void 0!==json.subscription&&json.subscription&&($('input[name="enable_subscription"]').prop("checked",!0),$('select[name="subscription_frequency"]').val(json.subscription.frequency))})},function(t,e,o){const n=o(1);$(document).ready(function(){$("#other_settings_form").ajaxForm({form:$("#other_settings_form"),url:"/json/settings/others/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,e,o,n){$.jGrowl("Новые настройки успешно сохранились")})})})},function(t,e,o){const n=o(1);$(document).ready(function(){$("#privacy_settings_form").ajaxForm({dataType:"json",url:"/json/settings/privacy/ ",beforeSubmit:function(){$("#privacy_settings_form .error").text("").hide(),$('#privacy_settings_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$.jGrowl("Новые настройки успешно сохранились"):(n.show_form_errors(t),$.scrollTo($("#privacy_settings_form"),800,{axis:"y"})),$('#privacy_settings_form input[type="submit"]').removeClass("loading")}})})},function(t,e,o){const n=o(1);$(document).ready(function(){$(document).on("click","#add_contact",function(){var t=$("#contacts_list .row").size()+1,e=$("#contact_select_date_template").html();e=e.replace(/NUM/g,t);var o=$('<div class="row contacts'+t+'" id="row_'+t+'">                <div class="td type">'+e+'</div>                <div class="td value"><input type="text" name="contacts['+t+'][value]" value=""/></div>                <div class="td checkbox"><input type="checkbox" class="js-contacts-show_on_post" name="contacts['+t+'][show_on_post]" title="Показывать в инфопанели на странице публикации"/></div>                <div class="td delete"><a href="#remove" data-id="'+t+'" class="dotted">удалить</a></div>                <div class="error"></div>              </div>');return $("#contacts_list").append(o),!1});$(document).on("change","input.js-contacts-show_on_post",function(t){$("input.js-contacts-show_on_post:checked").length>5&&(this.checked=!1)}),$("#contacts_list .row .delete a").on("click",function(){var t=$(this).data("id");return $("#contacts_list #row_"+t).html("").hide(),!1}),$("#contacts_list .row .type select").on("change",function(){var t=$(this).parents(".row");18==$(this).val()?$('<div class="row_description">Связь аккаунта на Хабре с учётной записью в Google+ позволит вам числиться автором статей в поисковой выдаче.<br>Подробности читайте в <a href="https://habr.com/info/help/settings/#2google">справочном разделе</a>.</div>').appendTo(t):$(".row_description",t).remove()}),$("#profile_settings_form").ajaxForm({form:$("#profile_settings_form"),beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,e,o,n){$.jGrowl("Новые настройки успешно сохранились")})}),$("#avatar_settings_form").ajaxForm({form:$("#avatar_settings_form"),beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(function(t,e,o,n){$.jGrowl("Новые настройки успешно сохранились")})})})},function(t,e,o){const n=o(0);$(document).ready(function(){$(".connect-service").each(function(t,e){$.post($(e).data("url"),{ajax:!0},function(t){t.id&&$(".about",e).html('<a href="'+t.link+'" class="pic"><img src="'+t.pic+'" alt="" /></a><a href="'+t.link+'" class="name">'+t.name+"</a>"),t.auth_error&&($(".about",e).html('<span class="auth_error">'+t.error_message+"</span>"),$("form",e).attr("action",t.connect_url),$("form button",e).text(n.SOCIAL_PAGE_CONNECT_ACTION))})})})},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){$("#upgrade_settings_form").ajaxForm({form:$("#upgrade_settings_form"),beforeSubmit:s.ajaxFormBeforSubmit,error:s.ajaxFormError,url:"/json/settings/upgrade/ ",success:s.ajaxFormSuccess(function(t,e,o,s){return $.jGrowl(n.INVITE_WAS_ACTIVED),window.location="/",!1},function(t,e,o,n){$("#imgCaptcha").size()&&($("#imgCaptcha").attr("src","/core/captcha?"+Math.random()),$("#captcha").val(""))})})})},function(t,e,o){o(152),o(153)},function(t,e,o){const n=o(1);$(document).ready(function(){$(".app_title").on("click",function(){var t=$(this).data("key");$("#text-"+t).toggle("slow"),$.post("/json/tracker/apps/mark_as_read/",{single:!0,key:t})}),$("#check_all").click(function(){$(".tracker_apps td input:checkbox").attr("checked",$(this).prop("checked")).trigger("change")}),$(".tracker_apps td input:checkbox").change(function(){$(".tracker_apps td input:checked").length>0?$("#remove_button, #mark_read_button").attr("disabled",!1):$("#remove_button, #mark_read_button").attr("disabled",!0)}),$("#remove_button").on("click",function(){return $("#tracker_apps_form").ajaxSubmit({form:$("#tracker_apps_form"),url:"/json/tracker/apps/remove/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(n.ajaxFormRedirect)}),!1}),$("#mark_read_button").on("click",function(){return $("#tracker_apps_form").ajaxSubmit({form:$("#tracker_apps_form"),url:"/json/tracker/apps/mark_as_read/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(n.ajaxFormRedirect)}),!1})})},function(t,e,o){const n=o(1);$(document).ready(function(){$("#check_all").click(function(){$(".tracker_comments td input:checkbox").attr("checked",$(this).prop("checked")).trigger("change")}),$(".tracker_comments td input:checkbox").change(function(){$(".tracker_comments td input:checked").length>0?$(".remove_button, .mark_read_button").attr("disabled",!1):$(".remove_button, .mark_read_button").attr("disabled",!0)});var t=$("#tracker_feed_form");$(".remove_button").on("click",function(e){return e.preventDefault(),$(t).ajaxSubmit({form:$(t),url:"/json/tracker/feed/remove/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(n.ajaxFormRedirect)}),!1}),$(".mark_read_button").on("click",function(e){return e.preventDefault(),$(t).ajaxSubmit({form:$(t),url:"/json/tracker/feed/mark_as_read/",beforeSubmit:n.ajaxFormBeforSubmit,error:n.ajaxFormError,success:n.ajaxFormSuccess(n.ajaxFormRedirect)}),!1})})},function(t,e,o){o(155),o(156),o(157),o(158)},function(t,e,o){var n=o(0);const s=o(1);$(document).ready(function(){$("#give_invite_button").click(function(){var t=$(this).data("login");return $.post("/json/users/send_invite/",{login:t},function(t){"ok"==t.messages?($.jGrowl("Вы подарили приглашение.<br> У вас осталось "+t.invites_string+".",{theme:"notice"}),s.ajaxFormRedirect(t)):s.showSystemError(t)}),!1}),$("#send_invite").click(function(){var t=$(this).data("user_id");return $.post("/json/users/set_invite/",{user_id:t},function(t){"ok"==t.messages?$.jGrowl(n.INVITE_WAS_SENT,{theme:"notice"}):s.showSystemError(t)},"json"),!1}),$("#go_ppg").click(function(){var t=$(this).data("user_id");return $.post("/json/users/ppg_comments/",{user_id:t},function(t){"ok"==t.messages?$.jGrowl(n.USER_SENT_PPG,{theme:"notice"}):s.showSystemError(t)},"json"),!1}),$("#go_pis").click(function(){var t=$(this).data("user_id");return $.post("/json/users/ppg_smiles/",{user_id:t},function(t){"ok"==t.messages?$.jGrowl(n.USER_SENT_PPG,{theme:"notice"}):s.showSystemError(t)},"json"),!1})})},function(t,e,o){const n=o(1);$(document).ready(function(){var t=function(){var t=$(".js-userNoteForm"),e=$(".js-userNoteText");function o(){return $("#userNoteFormTextarea").val()}return{showForm:function(){t.removeClass("hidden"),$("#userNoteFormTextarea").focus(),""!=o()&&$(".js-saveUserNote").attr("disabled",!1)},saveForm:function(o){var s,a=o.note;"ok"==o.messages?(s="Заметка успешно  "+(""!=a?"сохранена":"удалена"),$.jGrowl(s,{theme:"notice"}),""!=a?(e.html(o.note),$(".js-userNote").removeClass("hidden"),t.addClass("hidden")):($(".js-noteBlockHeader").addClass("hidden"),$(".js-writeNoteBtn").removeClass("hidden"),t.addClass("hidden"))):n.show_system_error(o)},clearForm:function(){e.val()},getValue:o}}();$(".js-writeNoteBtn").on("click",function(e){e.preventDefault(),$(this).addClass("hidden"),$(".js-noteBlockHeader").removeClass("hidden"),t.showForm()}),$(".js-editNoteBtn").on("click",function(e){e.preventDefault(),$(".js-userNote").addClass("hidden"),$(".js-cancelNoteBtn").addClass("hidden"),$(".js-userNoteForm").addClass("edit-mode"),t.showForm()}),$(".js-cancelNoteBtn").on("click",function(t){t.preventDefault(),$(".js-writeNoteBtn").removeClass("hidden"),$(".js-noteBlockHeader").addClass("hidden"),$(".js-userNoteForm").addClass("hidden"),$("#userNoteFormTextarea").val("").blur()}),$(".js-userNoteForm").on("change keyup",function(){var e=$(".js-saveUserNote");e.attr("disabled",!0),(""!=t.getValue()||$(".js-userNoteForm").hasClass("edit-mode"))&&e.attr("disabled",!1)}),$(".js-userNoteForm").ajaxForm({dataType:"json",url:"/json/users/save_note/",beforeSubmit:function(){t.clearForm()},success:function(e){t.saveForm(e)}}),$(".js-showmore_items").on("click",function(t){t.preventDefault();$(this).data("login");var e=$(this).data("type");$("#"+e+"_items li.hidden").removeClass("hidden"),$(this).remove()}),$("*[rel=hub-popover]").each(function(){var t=$(this);t.webuiPopover({animation:"fade",arrow:!1,padding:!1,placement:"bottom-right",trigger:"hover",offsetTop:5,delay:{show:1e3},type:"async",url:"/json/hubs/info/",async:{method:"POST",data:{alias:t.data("hub-alias")}},content:function(t){return t.html}})})})},function(t,e,o){const n=o(0),s=o(1);$(document).ready(function(){$("#invite_form").ajaxForm({dataType:"json",url:"/json/users/give_invite_byform/",beforeSubmit:function(){$('#invite_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?($.jGrowl(n.INVITE_WAS_SENT,{theme:"notice"}),$("#count_invite").text(t.invite_string),$(".used_invites").prepend('<div class="invite_item" id="invite_item_'+t.invite_id+'">                <img src="/register/icode/'+t.invite_code+'/"  alt="" />                <a href="mailto:'+t.to_email+'">'+t.to_email+'</a>                <a href="#cancel" class="cancel" title="'+n.REVOKE_INVITE+'" data-id="'+t.invite_id+'">x</a>            </div>'),$("#invite_form").resetForm()):s.showSystemError(t),$('#invite_form input[type="submit"]').removeClass("loading")}}),$("img.invite_preloader").on("click",function(){return $(this).attr("src",$(this).data("invite_url")).removeClass("invite_preloader").attr("title",""),!1}),$(".resend_invite").on("click",function(){var t=$(this),e=t.data("code");return $.post("/json/users/send_invite_notification/",{code:e},function(e){"ok"==e.messages?t.replaceWith(n.INVITE_WAS_SENT_AGAIN):s.showSystemError(e)}),!1}),$(".used_invites .invite_item .cancel").on("click",function(){var t=$(this).data("id");return $.post("/json/users/unset_invites/",{invite_id:t},function(e){"ok"==e.messages?($.jGrowl(n.INVITE_WAS_REVOKED,{theme:"notice"}),$("#invite_item_"+t).remove(),$("#count_invite").text(e.invite_string)):s.showSystemError(e)},"json"),!1})})},function(t,e,o){var n=o(1);$(document).ready(function(){$("#karma_reset_input").click(function(){var t=!$(this).prop("checked");$('#karma_reset_form input[type="submit"]').attr("disabled",t)}),$("#karma_reset_form").ajaxForm({dataType:"json",url:"/json/users/reset/request/",beforeSubmit:function(){$('#karma_reset_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$("#karma_reset").removeClass("karma_reseting").addClass("karma_noreseting"):n.showSystemError(t),$('#karma_reset_form input[type="submit"]').removeClass("loading")}}),$("#karma_reset_abort_form").ajaxForm({dataType:"json",url:"/json/users/reset/abort/",beforeSubmit:function(){$('#karma_reset_abort_form input[type="submit"]').addClass("loading")},success:function(t){"ok"==t.messages?$("#karma_reset").addClass("karma_reseting").removeClass("karma_noreseting"):n.showSystemError(t),$('#karma_reset_abort_form input[type="submit"]').removeClass("loading")}})})},function(t,e){t.exports=function(t){if(t.children().eq(0).length){var e,o,n,s,a=(e=function(t){var e=$(window).scrollTop()-t.offset().top;t.children().eq(0).toggleClass("sticked",e>=20)}.bind(null,t),o=50,function(){var t=arguments,a=(new Date).getTime();n&&a-n>o?(n=a,e.apply(null,t)):(clearTimeout(s),s=setTimeout(function(){n=a,e.apply(null,t)},o))});a(),$(window).on("scroll",a)}}},function(t,e){t.exports=function(t,e){$(t).find("h2[id], h3[id], li[id]").each(function(t,e){var o=e.getAttribute("id");$(e).append('<a class="h-anchor" href="#{href}">¶</a>'.replace("{href}",o))})}},function(t,e){t.exports=function(t){if($.browser.isMobileDevice=/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase()),!($.browser.isMobileDevice||$(window).width()<1024||$(window).height()<500||screen.width<1024)){if($(".content_left").outerHeight()<$(".sidebar_right").outerHeight())return!1;var e=$(t);if(e.size()){var o=e.width(),n=$(".sidebar_right");if(n.size()){var s=!1,a=$(".content_left"),r=function(){var t;t=0==s?n.offset().top+n.outerHeight():n.offset().top+n.outerHeight()+e.outerHeight()+20,$(window).width()<1024||$(window).height()<500||screen.width<1024||(e.outerHeight()+this.pageYOffset>a.offset().top+a.outerHeight()?(!0===s&&e.removeClass("float_block").css("width","auto"),s=!1):this.pageYOffset>t?(!1===s&&(e.addClass("float_block").css("width",o+"px"),$(window).height()>e.outerHeight(!0)?e.animate({opacity:0},0,function(){e.animate({opacity:1},500)}):e.removeClass("float_block").css("width","auto")),s=!0):(!0===s&&e.removeClass("float_block").css("width","auto"),s=!1))};$(window).bind("scroll resize",r),r()}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},function(t,e){}]);